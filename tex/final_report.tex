
% Default to the notebook output style




% Inherit from the specified cell style.





\documentclass[11pt]{article}



    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines




    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{DS4400 Final Project: Airbnb Modeling}




    % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults

    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



    \begin{document}


    \maketitle




    \section{Collect Data}\label{collect-data}

Here, all necessary data is retrieved and aggregated. The resulting
dataframes are then engineered as necessary and exported as csv files
for later use.

    \subsection{Load Packages and define utility
functions}\label{load-packages-and-define-utility-functions}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
         \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{LabelEncoder}
         \PY{k+kn}{import} \PY{n+nn}{datetime}
         \PY{k+kn}{import} \PY{n+nn}{requests}
         \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
         \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{c+c1}{\PYZsh{} utility functions}

         \PY{c+c1}{\PYZsh{} returns the time difference between now and a date given as a string}
         \PY{k}{def} \PY{n+nf}{host\PYZus{}dur}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n+nb}{str}\PY{p}{(}\PY{n}{t}\PY{p}{)} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{nan}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                 \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
             \PY{n}{t} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{datetime64}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{)}
             \PY{n}{delt} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{datetime64}\PY{p}{(}\PY{n}{datetime}\PY{o}{.}\PY{n}{datetime}\PY{o}{.}\PY{n}{now}\PY{p}{(}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{t}
             \PY{n}{delt\PYZus{}int} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{timedelta64}\PY{p}{(}\PY{n}{delt}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{D}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}
             \PY{k}{return} \PY{n}{delt\PYZus{}int}
\end{Verbatim}


    \subsection{Generate urls and read in all
data}\label{generate-urls-and-read-in-all-data}

Note: All data is collected from insideairbnb.com. Only data from Boston
is used for this project.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{} generate urls}
         \PY{n}{start} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{http://data.insideairbnb.com/united\PYZhy{}states/ma/boston/}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{list\PYZus{}end} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/data/listings.csv.gz}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{cal\PYZus{}end} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/data/calendar.csv.gz}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{dates} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015\PYZhy{}10\PYZhy{}03}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016\PYZhy{}09\PYZhy{}07}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017\PYZhy{}10\PYZhy{}06}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}04\PYZhy{}14}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}05\PYZhy{}17}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}07\PYZhy{}18}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}08\PYZhy{}17}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}09\PYZhy{}14}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}10\PYZhy{}11}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{list\PYZus{}urls} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{d}\PY{p}{:} \PY{n}{start} \PY{o}{+} \PY{n}{d} \PY{o}{+} \PY{n}{list\PYZus{}end}\PY{p}{,} \PY{n}{dates}\PY{p}{)}\PY{p}{)}
         \PY{n}{cal\PYZus{}urls} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{d}\PY{p}{:} \PY{n}{start} \PY{o}{+} \PY{n}{d} \PY{o}{+} \PY{n}{cal\PYZus{}end}\PY{p}{,} \PY{n}{dates}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} read in, append data, and write full tables to csv}

         \PY{n}{all\PYZus{}listings} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         \PY{n}{all\PYZus{}calendar} \PY{o}{=} \PY{p}{[}\PY{p}{]}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Reading listing urls...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{k}{for} \PY{n}{l} \PY{o+ow}{in} \PY{n}{list\PYZus{}urls}\PY{p}{:}
             \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{l}\PY{p}{)}
             \PY{n}{all\PYZus{}listings}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{data}\PY{p}{)}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Reading calendar urls...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{k}{for} \PY{n}{c} \PY{o+ow}{in} \PY{n}{cal\PYZus{}urls}\PY{p}{:}
             \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{c}\PY{p}{)}
             \PY{n}{all\PYZus{}calendar}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{data}\PY{p}{)}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Concatenating data...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{n}{all\PYZus{}listings}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{sort}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{cal\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{n}{all\PYZus{}calendar}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{sort}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Reading listing urls{\ldots}
Reading calendar urls{\ldots}
Concatenating data{\ldots}
Done

    \end{Verbatim}

    \subsection{Clean and engineer data}\label{clean-and-engineer-data}

Generated features include: * is\_professional -\/- whether or not a
host is a professional host * n\_amenities -\/- the number of amenities
a listing has * occ\_rate -\/- the occupancy rate of a listing during
the year that it was scraped from * host\_dur -\/- the length of time
that a listings host has been a host * n\_pchange -\/- the number of
price changes of a listing during the year that it was scraped from

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Cleaning and engineering listing features...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} engineer feature \PYZsq{}is\PYZus{}professional\PYZsq{}}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}professional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{0}
         \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{is\PYZus{}professional}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}total\PYZus{}listings\PYZus{}count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}

         \PY{c+c1}{\PYZsh{} engineer feature \PYZsq{}number of amenities\PYZsq{}}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{n\PYZus{}amenities}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{amenities}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} clean columns by removing \PYZsq{}\PYZdl{}\PYZsq{}}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cleaning\PYZus{}fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cleaning\PYZus{}fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{extra\PYZus{}people}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{extra\PYZus{}people}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{monthly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{monthly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weekly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weekly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{security\PYZus{}deposit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{security\PYZus{}deposit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} convert percentage to decimal}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}acceptance\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}acceptance\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o}{/} \PY{l+m+mi}{100}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}response\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}response\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o}{/} \PY{l+m+mi}{100}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} engineer feature \PYZsq{}host\PYZus{}length\PYZsq{}}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}dur}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{host\PYZus{}since}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{host\PYZus{}dur}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} change zipcode feature}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} add year feature}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{last\PYZus{}scraped}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} rename listing id feature}
         \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

         \PY{c+c1}{\PYZsh{} drop unwanted columns}
         \PY{n}{bad\PYZus{}features} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{license}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{security\PYZus{}deposit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{square\PYZus{}feet}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{last\PYZus{}scraped}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weekly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{monthly\PYZus{}price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}acceptance\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scrape\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability\PYZus{}30}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability\PYZus{}365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability\PYZus{}60}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability\PYZus{}90}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{access}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{amenities}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{calendar\PYZus{}last\PYZus{}scraped}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{calendar\PYZus{}updated}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{city}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{country}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{country\PYZus{}code}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{description}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{experiences\PYZus{}offered}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{first\PYZus{}review}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}about}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}identity\PYZus{}verified}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}location}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}name}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}neighbourhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}picture\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}response\PYZus{}time}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}since}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}thumbnail\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{host\PYZus{}verifications}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{house\PYZus{}rules}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{interaction}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{is\PYZus{}business\PYZus{}travel\PYZus{}ready}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{is\PYZus{}location\PYZus{}exact}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{jurisdiction\PYZus{}names}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{last\PYZus{}review}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{listing\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{market}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{medium\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{name}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neighborhood\PYZus{}overview}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neighbourhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{neighbourhood\PYZus{}group\PYZus{}cleansed}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{notes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{picture\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{require\PYZus{}guest\PYZus{}phone\PYZus{}verification}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{require\PYZus{}guest\PYZus{}profile\PYZus{}picture}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{requires\PYZus{}license}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{smart\PYZus{}location}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{space}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{state}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{street}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{summary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{thumbnail\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{transit}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{xl\PYZus{}picture\PYZus{}url}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{bad\PYZus{}features}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Cleaning and engineering listing features{\ldots}
Done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{c+c1}{\PYZsh{} NOTE: takes a while}

        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Cleaning calendar data...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} remove \PYZdl{} from price column}
        \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}numeric}\PY{p}{)}
        \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{available}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{available}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{f}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{0}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{t}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} make a copy before engineering}
        \PY{n}{cal\PYZus{}raw} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{n}{deep}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Engineering calendar features...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} generate occupancy rate}
        \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{date}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{)}
        \PY{n}{cal\PYZus{}count} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
        \PY{n}{cal\PYZus{}count}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{occ\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cal\PYZus{}count}\PY{o}{.}\PY{n}{price} \PY{o}{/} \PY{n}{cal\PYZus{}count}\PY{o}{.}\PY{n}{available}
        \PY{n}{cal\PYZus{}count} \PY{o}{=} \PY{n}{cal\PYZus{}count}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}

        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Generating price changes...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} generate price changes}
        \PY{n}{cal\PYZus{}nunique} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}

        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Reformatting calendar dataframe...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} reformat dataframe}
        \PY{n}{cal\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{cal\PYZus{}count}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{p}{,}
                                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{cal\PYZus{}count}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{p}{,}
                                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{occ\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{cal\PYZus{}count}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{occ\PYZus{}rate}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{p}{,}
                                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{n\PYZus{}pchange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{cal\PYZus{}nunique}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{p}{\PYZcb{}}\PY{p}{)}
        \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}

        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Cleaning calendar data{\ldots}
Engineering calendar features{\ldots}
Generating price changes{\ldots}
Reformatting calendar dataframe{\ldots}
Done

    \end{Verbatim}

    \subsection{Merge dataframes and write to
.csv}\label{merge-dataframes-and-write-to-.csv}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Merging dataframes...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} merge dataframes}
         \PY{n}{df} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{cal\PYZus{}df}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Changing year column...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} change year column to year since}
         \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year\PYZus{}since}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}
         \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Merging dataframes{\ldots}
Changing year column{\ldots}
Done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n}{df}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/listings.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/list\PYZus{}df.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{cal\PYZus{}raw}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/cal\PYZus{}df.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}



\usepackage[T1]{fontenc}
% Nicer default font (+ math font) than Computer Modern for most use cases
\usepackage{mathpazo}

% Basic figure setup, for now with no caption control since it's done
% automatically by Pandoc (which extracts ![](path) syntax from Markdown).
\usepackage{graphicx}
% We will generate all images so they have a width \maxwidth. This means
% that they will get their normal width if they fit onto the page, but
% are scaled down if they would overflow the margins.
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
% Set max figure width to be 80% of text width, for now hardcoded.
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
% Ensure that by default, figures have no caption (until we provide a
% proper Figure object with a Caption API and a way to capture that
% in the conversion process - todo).
\usepackage{caption}
\DeclareCaptionLabelFormat{nolabel}{}
\captionsetup{labelformat=nolabel}

\usepackage{adjustbox} % Used to constrain images to a maximum size
\usepackage{xcolor} % Allow colors to be defined
\usepackage{enumerate} % Needed for markdown enumerations to work
\usepackage{geometry} % Used to adjust the document margins
\usepackage{amsmath} % Equations
\usepackage{amssymb} % Equations
\usepackage{textcomp} % defines textquotesingle
% Hack from http://tex.stackexchange.com/a/47451/13684:
\AtBeginDocument{%
   \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
}
\usepackage{upquote} % Upright quotes for verbatim code
\usepackage{eurosym} % defines \euro
\usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
\usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
\usepackage{fancyvrb} % verbatim replacement that allows latex
\usepackage{grffile} % extends the file name processing of package graphics
                    % to support a larger range
% The hyperref package gives us a pdf with properly built
% internal navigation ('pdf bookmarks' for the table of contents,
% internal cross-reference links, web links for URLs, etc.)
\usepackage{hyperref}
\usepackage{longtable} % longtable support required by pandoc >1.10
\usepackage{booktabs}  % table support for pandoc > 1.12.2
\usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
\usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                           % normalem makes italics be italics, not underlines




% Colors for the hyperref package
\definecolor{urlcolor}{rgb}{0,.145,.698}
\definecolor{linkcolor}{rgb}{.71,0.21,0.01}
\definecolor{citecolor}{rgb}{.12,.54,.11}

% ANSI colors
\definecolor{ansi-black}{HTML}{3E424D}
\definecolor{ansi-black-intense}{HTML}{282C36}
\definecolor{ansi-red}{HTML}{E75C58}
\definecolor{ansi-red-intense}{HTML}{B22B31}
\definecolor{ansi-green}{HTML}{00A250}
\definecolor{ansi-green-intense}{HTML}{007427}
\definecolor{ansi-yellow}{HTML}{DDB62B}
\definecolor{ansi-yellow-intense}{HTML}{B27D12}
\definecolor{ansi-blue}{HTML}{208FFB}
\definecolor{ansi-blue-intense}{HTML}{0065CA}
\definecolor{ansi-magenta}{HTML}{D160C4}
\definecolor{ansi-magenta-intense}{HTML}{A03196}
\definecolor{ansi-cyan}{HTML}{60C6C8}
\definecolor{ansi-cyan-intense}{HTML}{258F8F}
\definecolor{ansi-white}{HTML}{C5C1B4}
\definecolor{ansi-white-intense}{HTML}{A1A6B2}

% commands and environments needed by pandoc snippets
% extracted from the output of `pandoc -s`
\providecommand{\tightlist}{%
 \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}

% Additional commands for more recent versions of Pandoc
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


% Define a nice break command that doesn't care if a line doesn't already
% exist.
\def\br{\hspace*{\fill} \\* }
% Math Jax compatability definitions
\def\gt{>}
\def\lt{<}
% Document parameters
\title{visualizations}




% Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
\let\PY@ul=\relax \let\PY@tc=\relax%
\let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
\PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
\PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


% Exact colors from NB
\definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
\definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




% Prevent overflowing lines due to hard-to-break entities
\sloppy
% Setup hyperref package
\hypersetup{
 breaklinks=true,  % so long urls are correctly broken across lines
 colorlinks=true,
 urlcolor=urlcolor,
 linkcolor=linkcolor,
 citecolor=citecolor,
 }
% Slightly bigger margins than the latex defaults

\geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



\begin{document}


\maketitle




\section{Explore Data}\label{explore-data}

In this section, data is explored by viewing feature distributions and
relationships between different variables

\subsection{Import packages and load
data}\label{import-packages-and-load-data}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
   \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
   \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
   \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}
   \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{LabelEncoder}
   \PY{k+kn}{import} \PY{n+nn}{datetime}
   \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
   \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
   \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} import data}
    \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
    \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/data/listings.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{c+c1}{\PYZsh{} impute bedroom values of 0.0 with 1.0}
    \PY{n}{df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{df}\PY{o}{.}\PY{n}{bedrooms}\PY{o}{==}\PY{l+m+mf}{0.0}\PY{p}{,}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bedrooms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{1.0}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{} engineer feature price\PYZus{}per\PYZus{}bed}
    \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZus{}per\PYZus{}bed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{price} \PY{o}{/} \PY{n}{df}\PY{o}{.}\PY{n}{bedrooms}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{c+c1}{\PYZsh{} scatterplot price\PYZus{}per\PYZus{}bed with host\PYZus{}listing\PYZus{}count}
    \PY{n}{plt} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{scatterplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df}\PY{o}{.}\PY{n}{calculated\PYZus{}host\PYZus{}listings\PYZus{}count}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df}\PY{o}{.}\PY{n}{price\PYZus{}per\PYZus{}bed}\PY{p}{)}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/plots/list\PYZus{}vs\PYZus{}price.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{center}
\adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_6_0.png}
\end{center}
{ \hspace*{\fill} \\}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{} barplot price\PYZus{}per\PYZus{}bed by neighborhood}
    \PY{n}{by\PYZus{}neigh} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood\PYZus{}cleansed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
    \PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{rc}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure.figsize}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{p}{(}\PY{l+m+mf}{11.7}\PY{p}{,}\PY{l+m+mf}{8.27}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
    \PY{n}{plt} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{y}\PY{o}{=}\PY{n}{by\PYZus{}neigh}\PY{o}{.}\PY{n}{neighbourhood\PYZus{}cleansed}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{by\PYZus{}neigh}\PY{o}{.}\PY{n}{price\PYZus{}per\PYZus{}bed}\PY{p}{)}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/plots/neigh\PYZus{}vs\PYZus{}price.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{center}
\adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_0.png}
\end{center}
{ \hspace*{\fill} \\}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} plot occupancy rate vs host duration}
    \PY{n}{plt} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{scatterplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df}\PY{o}{.}\PY{n}{number\PYZus{}of\PYZus{}reviews}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df}\PY{o}{.}\PY{n}{price\PYZus{}per\PYZus{}bed}\PY{p}{)}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/plots/numrev\PYZus{}vs\PYZus{}price.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{center}
\adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_8_0.png}
\end{center}
{ \hspace*{\fill} \\}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{c+c1}{\PYZsh{} plot occupancy rate vs host duration}
    \PY{n}{plt} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{price\PYZus{}per\PYZus{}bed}\PY{p}{)}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/plots/price\PYZus{}hist.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{center}
\adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_9_0.png}
\end{center}
{ \hspace*{\fill} \\}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{c+c1}{\PYZsh{} plot occupancy rate vs host duration}
    \PY{n}{plt} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{occ\PYZus{}rate}\PY{p}{)}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}figure}\PY{p}{(}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{savefig}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/Users/cccdenhart/Documents/ds4400/project/plots/occ\PYZus{}hist.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{center}
\adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_10_0.png}
\end{center}
{ \hspace*{\fill} \\}

\usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines




    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{review\_scores}




    % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults

    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



    \begin{document}


    \maketitle




    \section{Predict Review Scores}\label{predict-review-scores}

Here, I try to predict the average review score of a listing using
linear regressions and a radial SVR

    \subsection{Import packages and load in
data}\label{import-packages-and-load-in-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{normalize}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}\PY{p}{,} \PY{n}{Ridge}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{svm} \PY{k}{import} \PY{n}{SVR}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{explained\PYZus{}variance\PYZus{}score}\PY{p}{,} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{r2\PYZus{}score}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{k+kn}{import} \PY{n+nn}{math}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} import data}
        \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
        \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/listings.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \subsection{Prepare data}\label{prepare-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} average all reviews to generate average\PYZus{}score feature and drop excess review features for fair prediction}
        \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{average\PYZus{}score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}accuracy} \PY{o}{+} \PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}checkin} \PY{o}{+} \PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}cleanliness} \PY{o}{+} \PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}communication} \PY{o}{+} \PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}location} \PY{o}{+} \PY{n}{df}\PY{o}{.}\PY{n}{review\PYZus{}scores\PYZus{}value}\PY{p}{)} \PY{o}{/} \PY{l+m+mi}{6}
        \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}accuracy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}checkin}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}cleanliness}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}communication}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reviews\PYZus{}per\PYZus{}month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review\PYZus{}scores\PYZus{}rating}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} split into X and Y}
        \PY{n}{X} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{average\PYZus{}score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{y} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{average\PYZus{}score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

        \PY{c+c1}{\PYZsh{} convert objects to dummy variables}
        \PY{n}{X} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{X}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} split into training and testing data}
        \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{)}
\end{Verbatim}


    \subsection{Train models}\label{train-models}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} NOTE: takes a long time}
        \PY{c+c1}{\PYZsh{} train models}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training linear regression...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{lm} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training linear reg with ridge regularization}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{reg} \PY{o}{=} \PY{n}{Ridge}\PY{p}{(}\PY{n}{alpha}\PY{o}{=}\PY{o}{.}\PY{l+m+mi}{5}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training radial kernel SVR...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{rad} \PY{o}{=} \PY{n}{SVR}\PY{p}{(}\PY{n}{gamma}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{auto}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{kernel}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rbf}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Training linear regression{\ldots}
Training linear reg with ridge regularization
Training radial kernel SVR{\ldots}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/linear\_model/ridge.py:125: LinAlgWarning: scipy.linalg.solve
Ill-conditioned matrix detected. Result is not guaranteed to be accurate.
Reciprocal condition number3.765920e-19
  overwrite\_a=True).T

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} get predictions}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Generating predictions...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{lm\PYZus{}pred} \PY{o}{=} \PY{n}{lm}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{n}{reg\PYZus{}pred} \PY{o}{=} \PY{n}{reg}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{n}{rad\PYZus{}pred} \PY{o}{=} \PY{n}{rad}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Generating predictions{\ldots}
Done

    \end{Verbatim}

    \subsection{View results}\label{view-results}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} display evaluations}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Linear Model Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Explained Variance: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{explained\PYZus{}variance\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{lm\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MSE: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{lm\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R2: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{r2\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{lm\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} display evaluations}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Ridge Regularization Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Explained Variance: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{explained\PYZus{}variance\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{reg\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MSE: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{reg\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R2: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{r2\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{reg\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Linear Model with Regularization:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Radial Kernel SVR Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Explained Variance: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{explained\PYZus{}variance\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rad\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MSE: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rad\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{R2: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{r2\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rad\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Linear Model Results:
Explained Variance: 0.1434287737138703
MSE: 0.34507206786518557
R2: 0.1430113908638756

Ridge Regularization Results:
Explained Variance: 0.14379407926425725
MSE: 0.3449246444374958
R2: 0.14337751785593122

Linear Model with Regularization:
Radial Kernel SVR Results:
Explained Variance: 0.2965080758246498
MSE: 0.28368482487039837
R2: 0.29546698751146394

    \end{Verbatim}

    \subsection{Discussion}\label{discussion}

\subsubsection{Why are results so bad?}\label{why-are-results-so-bad}

\begin{itemize}
\tightlist
\item
  Large left skew (histogram 1)
\item
  Tried applying log transform to data -\/-\textgreater{} still large
  skew (histogram 2)
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{average\PYZus{}score}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/scipy/stats/stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x1c22b58470>
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_13_2.png}
    \end{center}
    { \hspace*{\fill} \\}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{average\PYZus{}score}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{log}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x1c26871978>
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_14_1.png}
    \end{center}
    { \hspace*{\fill} \\}

    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines




    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{prof\_status}




    % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults

    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



    \begin{document}


    \maketitle




    \section{Predict Host Professional
Status}\label{predict-host-professional-status}

In this section, I attempt to predict whether a host is a professional
or not. Note that a host is considered professional if they list more
than one unit on Airbnb, as justified by
\href{https://pdfs.semanticscholar.org/9cb2/e1ad853d8cec5cb2ccd6eb3df951aa2733ac.pdf?_ga=2.138786736.2078325923.1544210414-456397272.1544210414}{previous
literature}.

Logistic regression, a decision tree, and AdaBoost are all used to
classfiy host status.

    \subsection{Import packages and load
data}\label{import-packages-and-load-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{precision\PYZus{}score}\PY{p}{,} \PY{n}{recall\PYZus{}score}\PY{p}{,} \PY{n}{roc\PYZus{}auc\PYZus{}score}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LogisticRegression}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{tree} \PY{k}{import} \PY{n}{DecisionTreeClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{AdaBoostClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} import data}
        \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
        \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/listings.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \subsection{Prepare data}\label{prepare-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} split into X and y}
        \PY{n}{X} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}professional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{y} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{is\PYZus{}professional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

        \PY{c+c1}{\PYZsh{} drop host listing count}
        \PY{n}{X} \PY{o}{=} \PY{n}{X}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{calculated\PYZus{}host\PYZus{}listings\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}total\PYZus{}listings\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}listings\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} get dummies}
        \PY{n}{X} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{X}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} split into train and test}
        \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{)}
\end{Verbatim}


    \subsection{Train models}\label{train-models}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} train models}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training logistic regression...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{log} \PY{o}{=} \PY{n}{LogisticRegression}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training decision tree...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{dec} \PY{o}{=} \PY{n}{DecisionTreeClassifier}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training AdaBoost...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{ada} \PY{o}{=} \PY{n}{AdaBoostClassifier}\PY{p}{(}\PY{n}{n\PYZus{}estimators}\PY{o}{=}\PY{l+m+mi}{50}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Training logistic regression{\ldots}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/linear\_model/logistic.py:432: FutureWarning: Default solver will be changed to 'lbfgs' in 0.22. Specify a solver to silence this warning.
  FutureWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Training decision tree{\ldots}
Training AdaBoost{\ldots}
Done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} get predictions}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Getting predictions...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{log\PYZus{}pred} \PY{o}{=} \PY{n}{log}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{n}{dec\PYZus{}pred} \PY{o}{=} \PY{n}{dec}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{n}{ada\PYZus{}pred} \PY{o}{=} \PY{n}{ada}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} add in adaboost}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Getting predictions{\ldots}
Done

    \end{Verbatim}

    \subsection{View results}\label{view-results}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} display performance metrics}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Logistic Regression Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{log\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{log\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{log\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{auc: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{roc\PYZus{}auc\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{log\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Decision Tree Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{dec\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{dec\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{dec\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{auc: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{roc\PYZus{}auc\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{dec\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{AdaBoost Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ada\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ada\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ada\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{auc: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{roc\PYZus{}auc\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ada\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Logistic Regression Results:
accuracy: 0.7376577728071577
precision: 0.7376577728071577
recall: 1.0
auc: 0.5

Decision Tree Results:
accuracy: 0.9012621824572615
precision: 0.9277005347593583
recall: 0.9393545592376001
auc: 0.8667540153069851

AdaBoost Results:
accuracy: 0.8041220642275124
precision: 0.8370105346849533
recall: 0.9120641108945202
auc: 0.7063365621464075

    \end{Verbatim}

    \subsection{Discussion}\label{discussion}

\subsubsection{Why are Logistic Reg results
odd?}\label{why-are-logistic-reg-results-odd}

\begin{itemize}
\tightlist
\item
  All prediction probabilities are \textgreater{} .5
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{probs} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{log}\PY{o}{.}\PY{n}{predict\PYZus{}proba}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{probs}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/scipy/stats/stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}41}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x1a2b05be10>
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_12_2.png}
    \end{center}
    { \hspace*{\fill} \\}

    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines




    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{neighborhood}




    % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults

    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



    \begin{document}


    \maketitle




    \section{Neighborhood prediction}\label{neighborhood-prediction}

In this section, the neighborhood of a given listing is predicted using
KNN, Naive-Bayes, and a random forest.

    \subsection{Import packages and read in
data}\label{import-packages-and-read-in-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{precision\PYZus{}score}\PY{p}{,} \PY{n}{recall\PYZus{}score}\PY{p}{,} \PY{n}{roc\PYZus{}auc\PYZus{}score}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{LabelEncoder}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k}{import} \PY{n}{KNeighborsClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{naive\PYZus{}bayes} \PY{k}{import} \PY{n}{GaussianNB}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{RandomForestClassifier}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{import} \PY{n+nn}{math}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} import data}
        \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
        \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/listings.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \subsection{Prepare data}\label{prepare-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} split into X and y}
        \PY{n}{X} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood\PYZus{}cleansed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{y} \PY{o}{=} \PY{n}{LabelEncoder}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood\PYZus{}cleansed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} get dummies}
        \PY{n}{X} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{X}\PY{p}{)}

        \PY{c+c1}{\PYZsh{} split into train and test}
        \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{)}
\end{Verbatim}


    \subsection{Train models}\label{train-models}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{c+c1}{\PYZsh{} train models}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training KNN...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{knn} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{p}{(}\PY{n}{n\PYZus{}neighbors}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training decision tree...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{nb} \PY{o}{=} \PY{n}{GaussianNB}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training random forest...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{rf} \PY{o}{=} \PY{n}{RandomForestClassifier}\PY{p}{(}\PY{n}{n\PYZus{}estimators}\PY{o}{=}\PY{n+nb}{int}\PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{X}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{max\PYZus{}depth}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Training KNN{\ldots}
Training decision tree{\ldots}
Training random forest{\ldots}
Done

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}53}]:} \PY{c+c1}{\PYZsh{} get predictions}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Generating predictions...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{knn\PYZus{}pred} \PY{o}{=} \PY{n}{knn}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
         \PY{n}{nb\PYZus{}pred} \PY{o}{=} \PY{n}{nb}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
         \PY{n}{rf\PYZus{}pred} \PY{o}{=} \PY{n}{rf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Generating predictions{\ldots}
Done

    \end{Verbatim}

    \subsection{View results}\label{view-results}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{c+c1}{\PYZsh{} display performance metrics}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{KNN Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} print(\PYZdq{}auc: \PYZdq{} + str(roc\PYZus{}auc\PYZus{}score(y\PYZus{}test, knn\PYZus{}pred)))}
         \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Naive Bayes Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{nb\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{nb\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{nb\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}print(\PYZdq{}auc: \PYZdq{} + str(roc\PYZus{}auc\PYZus{}score(y\PYZus{}test, nb\PYZus{}pred)))}
         \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Random Forest Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{macro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}print(\PYZdq{}auc: \PYZdq{} + str(roc\PYZus{}auc\PYZus{}score(y\PYZus{}test, rf\PYZus{}pred)))}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
KNN Results:
accuracy: 0.777760025563189
precision: 0.7721725205515614
recall: 0.7237850559072051

Naive Bayes Results:
accuracy: 0.11199872184054961
precision: 0.05855255442334741
recall: 0.07022498947156558

Random Forest Results:
accuracy: 0.9129253874420834
precision: 0.8929981744782387
recall: 0.7782661572565764

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/metrics/classification.py:1143: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples.
  'precision', 'predicted', average, warn\_for)
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/metrics/classification.py:1143: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples.
  'precision', 'predicted', average, warn\_for)

    \end{Verbatim}


    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines




    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{price\_changes}




    % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults

    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



    \begin{document}


    \maketitle




    \section{Generate Price Change Data}\label{generate-price-change-data}

In this section, daily price data about listings is reshaped in order to
convey more information about how price changes of a given listing
impact property performance. Price changes for each listing are
extracted and for each price change, the change in average daily revenue
resulting from the price change is calculated.

    \subsection{Import packages and load in
data}\label{import-packages-and-load-in-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{import} \PY{n+nn}{datetime}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
        \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} import data}
        \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
        \PY{n}{cal\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/cal\PYZus{}df.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{cal\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{datetime}\PY{o}{.}\PY{n}{date}\PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{:}\PY{l+m+mi}{7}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{8}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \subsection{Define functions to be used to extract average daily
revenues}\label{define-functions-to-be-used-to-extract-average-daily-revenues}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}123}]:} \PY{c+c1}{\PYZsh{} find the difference between each sequential value in the given list}
          \PY{k}{def} \PY{n+nf}{get\PYZus{}diff}\PY{p}{(}\PY{n}{arr}\PY{p}{)}\PY{p}{:}
              \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{arr}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0}\PY{p}{:}
                  \PY{n}{diff} \PY{o}{=} \PY{p}{[}\PY{n}{arr}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{]}
                  \PY{k}{for} \PY{n}{index} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{arr}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                      \PY{n}{diff}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{arr}\PY{p}{[}\PY{n}{index}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{arr}\PY{p}{[}\PY{n}{index} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
                  \PY{k}{return} \PY{n}{diff}
              \PY{k}{else}\PY{p}{:}
                  \PY{k}{return} \PY{n}{arr}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}94}]:} \PY{c+c1}{\PYZsh{} Array[float] \PYZhy{}\PYZgt{} Array[float]}
         \PY{c+c1}{\PYZsh{} given an array of prices, finds the average daily revenue (adr) changes between every price change}
         \PY{k}{def} \PY{n+nf}{get\PYZus{}adr}\PY{p}{(}\PY{n}{prices}\PY{p}{)}\PY{p}{:}
             \PY{n}{adr} \PY{o}{=} \PY{p}{[}\PY{p}{]}
             \PY{n}{pc} \PY{o}{=} \PY{p}{[}\PY{p}{]}
             \PY{n}{ind} \PY{o}{=} \PY{p}{[}\PY{p}{]}
             \PY{n}{cur\PYZus{}p} \PY{o}{=} \PY{n}{prices}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
             \PY{n}{start\PYZus{}index} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{n}{revenue} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{p} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{prices}\PY{p}{)}\PY{p}{:}
                 \PY{k}{if} \PY{o+ow}{not} \PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{p}\PY{p}{)}\PY{p}{:}
                     \PY{k}{if} \PY{n}{p} \PY{o}{==} \PY{n}{cur\PYZus{}p}\PY{p}{:}
                         \PY{n}{revenue} \PY{o}{+}\PY{o}{=} \PY{n}{p}
                     \PY{k}{else}\PY{p}{:}
                         \PY{n}{adr}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{revenue} \PY{o}{/} \PY{p}{(}\PY{n}{index} \PY{o}{\PYZhy{}} \PY{n}{start\PYZus{}index}\PY{p}{)}\PY{p}{)}
                         \PY{n}{pc}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{p} \PY{o}{\PYZhy{}} \PY{n}{cur\PYZus{}p}\PY{p}{)}
                         \PY{n}{ind}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{index}\PY{p}{)}
                         \PY{n}{cur\PYZus{}p} \PY{o}{=} \PY{n}{p}
                         \PY{n}{start\PYZus{}index} \PY{o}{=} \PY{n}{index}
                         \PY{n}{revenue} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{return} \PY{n}{get\PYZus{}diff}\PY{p}{(}\PY{n}{adr}\PY{p}{)}\PY{p}{,} \PY{n}{pc}\PY{p}{,} \PY{n}{ind}
\end{Verbatim}


    \subsection{Implement functions to find average daily revenue changes
per price change per
listing}\label{implement-functions-to-find-average-daily-revenue-changes-per-price-change-per-listing}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}124}]:} \PY{c+c1}{\PYZsh{} find adr changes for each listing}
          \PY{n}{ids} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{listing\PYZus{}id}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
          \PY{n}{all\PYZus{}dfs} \PY{o}{=} \PY{p}{[}\PY{p}{]}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{ids}\PY{p}{:}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{i}\PY{p}{)}
              \PY{n}{l} \PY{o}{=} \PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{cal\PYZus{}df}\PY{o}{.}\PY{n}{listing\PYZus{}id}\PY{o}{==}\PY{n}{i}\PY{p}{,}\PY{p}{:}\PY{p}{]}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ascending}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{adr}\PY{p}{,} \PY{n}{pc}\PY{p}{,} \PY{n}{ind} \PY{o}{=} \PY{n}{get\PYZus{}adr}\PY{p}{(}\PY{n}{l}\PY{o}{.}\PY{n}{price}\PY{o}{.}\PY{n}{values}\PY{p}{)}
              \PY{n}{dates} \PY{o}{=} \PY{n}{l}\PY{o}{.}\PY{n}{date}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{]}
              \PY{n+nb}{id} \PY{o}{=} \PY{p}{[}\PY{n}{l}\PY{o}{.}\PY{n}{listing\PYZus{}id}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]} \PY{o}{*} \PY{n+nb}{len}\PY{p}{(}\PY{n}{adr}\PY{p}{)}
              \PY{n}{all\PYZus{}dfs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n+nb}{id}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{dates}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{revenue\PYZus{}change}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{adr}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price\PYZus{}change}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{pc}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
1810172
6976
3075044
4283698
4085362
225834
7252607
1936861
225979
2583074
6933545
5434353
4025194
1591827
753446
3755609
5884429
879929
1494726
7651065
3420384
8473851
1668313
3575220
4922204
1724900
849408
5759676
3988018
6242681
5498472
7858329
321328
7086825
2843445
6603827
6742139
6513924
8339473
962610
3229255
894539
1861070
3968797
6144896
6400432
4987859
5706985
6069883
8548176
5521378
7929693
6911272
4054079
2219399
3775876
7823025
4586681
6364042
4483549
285270
8354938
1301500
7723492
8083905
1136972
6142209
4405982
5904596
2365632
1701741
5166870
6862594
4331214
5293067
6404106
1692573
5092993
5182313
1110769
4452800
6390613
8336364
381187
6914622
6106955
4149974
6386351
732932
2698996
749247
8212160
6730758
4181530
1552406
8392652
1994683
5101552
5049582
4838985
6425318
830153
2378421
332225
4000384
3021446
8481291
764414
568234
4025268
3905508
7845607
6990904
1067184
973840
4065322
4765070
3079305
7287822
2875267
1071235
2592416
3616081
4105704
2308630
594693
1203014
6602217
7790454
8310894
4975581
743211
8172671
4583526
6939162
1956275
3629014
3693850
6990023
7630953
458215
6693305
667325
2828426
7348110
4567815
799701
7602111
3730447
6104388
7789429
27611
2538536
4262255
5729845
2963419
7554801
5453
7050397
6764572
5450017
1881298
8210765
629814
5676025
210097
1612842
6298216
1321150
5918944
6436748
6248970
4348422
4098410
8615156
6749196
496022
4233242
6019555
713627
5820539
3977877
3593290
5367839
3685188
6291807
4457943
6238463
6465075
8275122
5495547
4119345
5801643
8192504
1631942
5882411
2295530
6528506
7816963
4792901
1885825
6644330
5702292
4015972
250983
7693009
5874408
932853
950046
3957602
6390634
2442118
1803138
2933661
4183161
1109224
8521792
6465602
732999
7743569
1524725
6725634
7742509
4526315
336946
197727
2798787
6725762
8226982
1704090
1885386
7495866
8634599
1115394
2884903
2077794
197972
1949996
735970
336960
6065674
2621242
3591359
5025015
4515741
1167221
593855
3371091
3898229
848152
4223387
6377998
7323567
7910223
750438
5035090
728238
554720
6862758
8390885
6059968
2611177
8673298
7500822
5601743
3987926
8272350
957224
1187188
7879708
1113272
5405928
4767023
4339392
2014651
7560422
3276286
7454267
40601
777903
5652147
3342094
7708436
7159589
3628884
6725993
447826
8535515
7379913
1373520
3643217
7280665
7978515
130552
8536994
1471308
6992898
6686331
7868931
4493030
8539551
8442314
1092093
5052151
4160585
8473008
5969852
3659917
6629929
5904992
5832127
6689168
1426711
7871576
4823089
3198169
8408375
1538096
8576895
8541257
6118583
5967936
6834270
543188
4787213
195515
9903
611107
4523594
2754149
8337048
4687499
7807598
8390386
66288
8184662
8627123
7562235
7708844
6611126
5267396
6684904
7225376
4409653
1471373
6744795
6208994
6870366
6630346
8653238
2174711
7637094
6676364
3571617
4518756
4518380
2706986
2993107
1731639
5762300
6062890
8422876
6292261
3359713
4518710
4053612
215039
6499228
4645486
2752354
8290741
2848370
2643924
7919500
7931882
7694771
6452246
6302511
7630340
2795342
6657722
6278561
7434871
2848330
6746543
3167655
2848362
8146141
4021522
3182652
6692941
2722165
2848239
8389735
7630346
6831553
3063527
4408497
65363
3129309
1130279
8265471
6298239
5782221
916123
1013978
8206008
7018497
8556025
7582651
7181950
6215248
947751
766700
4428123
1552135
2043529
1959873
5003182
4518100
8458210
2379700
2183058
2657905
4558443
6974627
6089865
2043261
8353571
8555187
4580825
3967611
4573238
4573458
8113183
4350995
2658094
369880
1375194
7729328
7450348
7984226
24240
1094599
13059
220676
2943804
8239082
8689904
3903760
4256894
65329
65348
65353
7419691
7065610
1426754
6075358
8228405
8227206
2842124
6134145
8036024
4924910
4553903
4573388
1824487
1220971
4304969
6939208
4334206
6801288
5423916
5768195
762886
4089940
4744278
7454907
8611015
4105417
2515113
1615033
369940
2023445
3434614
2043541
4279959
2633478
815639
4813408
6197950
807518
2831504
8011545
5511911
891661
7634546
3032367
540470
3006311
8519646
3375010
1884045
6765855
801722
4103249
1175376
2332883
1374434
276450
4560053
1602491
169430
8319253
7724412
69369
8081480
8228903
176006
5146447
5148161
8439661
8153848
8457344
796435
8194598
1403408
8424398
4615251
4205641
60029
5904732
1197857
1550047
7113260
8371203
1374466
7132436
7034390
3602379
5526487
474066
801680
658029
6576530
6695
7825327
1170157
5717690
5526514
7205300
7730774
4460532
581285
6575654
7560218
3240187
8015793
2984396
8310807
4263736
2636365
8238404
8320775
4007906
6780313
8172380
1918537
6709682
3802809
5269216
4941544
3975944
8014642
7620413
163941
5965647
4391562
5146451
5726867
7293671
8406972
6080461
5146580
6939454
5940069
4555637
6972426
2892825
1638584
2473997
7440484
3727560
8495348
6645010
5317935
1501801
8469464
7278248
4568116
8238311
4879702
2372987
5506
6780300
333808
4012447
1850260
5561448
7281884
1736464
8082512
1810397
4832846
5455293
466300
8518665
3808557
1428355
1342370
7920541
2694019
5012354
4278067
4856333
4143561
8207426
366877
8206536
5970118
7214920
7714627
1489289
2564918
1365335
8451370
225224
1071144
349347
5395617
6354030
6837172
8025718
2954703
3585379
8201104
5714786
5976821
2683284
5075267
6951197
2429196
798957
1044307
3903273
8303267
2495047
6426364
8294055
7796658
5640375
7196771
989163
5582163
1183032
4323190
8096900
7921131
6810723
8088370
8481917
7645862
8014383
27141
985572
453660
1090413
994286
6939126
4860853
6851460
6171496
6044813
625012
8596566
322593
2361525
5203538
1401625
3589876
7477402
2246959
5067019
1077105
2301709
5002755
4759046
4364989
5783197
7746727
6762011
4742275
8403945
4963242
2601744
3271153
7476340
7916575
4364925
7511737
7294565
6134013
2846739
2916208
526970
6851459
8473033
6276572
8193344
7758851
22354
1252289
990668
613753
4461901
8316068
8162720
8301926
2326445
3969526
1038465
8595650
2395326
6444303
1422837
7114655
6068207
2549840
4873568
8006992
6850880
7480613
6376539
5771644
4983622
1119740
826555
22208
6075932
4609785
8211468
6287797
8680170
7592616
7740592
7508063
8292457
6248526
650956
5761592
1200502
442735
5734770
7954808
6758443
5588537
5768819
1275498
9870
6758462
1425973
1214214
7856208
34601
6355733
4759864
8200839
6758482
4244110
3236496
4410142
8356534
4679319
1868513
4294557
5769127
5718801
901914
7578399
3601030
6194602
4178790
5718921
7694365
7965521
4588530
6759439
7513605
8131410
7575052
5020055
8686165
6677700
9765
5932267
3916011
3842286
5088560
6793945
1704223
7095658
5932402
705919
4728216
7325084
5153080
3244362
8226238
7808455
7358714
4363510
7784639
5074924
4549374
4623114
7826510
8129715
5885130
5433246
7275108
5058148
2215762
7368611
5673214
7205210
7246327
7634365
4750791
5870309
7649517
3289921
6763409
6992859
5639731
7694559
7755144
4511741
5781917
8575476
7540480
2292495
5593888
4044840
2513870
8371115
3415245
4625738
8404344
8226058
5758561
3196180
8306430
5135400
6323935
2915643
4479953
7162684
1776190
6552654
7240149
1948096
6879083
4020650
8206659
1775935
3463914
5989418
2277821
4374266
6879036
1329627
22212
6214710
4446413
8410270
7948546
4756953
7804358
6559159
3052958
6731122
5919529
4887325
7082775
4870883
8647120
7598493
4404319
7853079
8205283
7125052
5390582
3673688
5959251
1928785
7007801
6213822
7475379
4132983
5903001
7475052
28150
2723274
7474615
5123495
2108738
4148586
4369766
2918875
8287232
1551205
8391522
5974871
4409819
8497555
2812195
543078
2374089
1526005
6121709
7227623
3410087
6677469
7194793
9858
8497475
2656568
4065578
693353
7159494
8351880
3937236
4516065
7474044
6451456
6823628
1090545
4662140
7680055
47725
47722
4837659
1964878
3601254
4330425
5455004
3182473
1878903
7929205
8008082
7798185
7524777
7124590
7825898
37864
7728508
8501576
7264674
7362715
1234740
2881388
8439599
7453797
9824
8423453
56937
8276020
5280183
7474855
7533424
23370
6685682
1372816
4751222
6056614
6452513
5791960
3591388
7887491
6075481
6921241
8172030
6124215
8116523
1322461
3902984
8053104
3369898
5135276
5883514
8200659
2823798
7406104
197146
3953172
1341072
6759004
1860279
6895050
4948724
5916598
5899031
8037235
3302294
8488998
5021859
3458030
7840797
7971930
7708787
6005903
5883022
4777111
754845
8048838
6009031
4432035
7856323
1525036
4972820
1811776
7881551
705900
8151347
4358181
7457027
5548439
8055533
8309604
8514472
4500409
1174776
3870046
7351740
4377247
8253407
8605937
4714840
6017574
414419
7672949
8533464
7698631
1636735
7731797
5454513
6618919
8188894
7740436
8584276
8577620
48612
7585431
5504813
6001339
5992501
7961477
7834063
2441095
1048397
5307640
1497879
1178162
6142396
4315439
4315428
2201031
602975
8212817
8065282
2634361
8253083
5969914
5616179
8326439
8629460
1141522
6261496
4614037
182049
7178893
4868653
2828803
6146559
3615760
5892953
5990808
1042420
8154052
4314054
8252058
5967637
7482338
6344696
8469735
4107959
8624898
7033732
7634067
7035556
5364137
8587249
5478135
1458081
118905
1059604
7678756
1051482
238846
7966317
8410340
3667348
1178106
6337106
4128326
2019292
7680519
4080000
57800
1066767
5940866
6521607
6314998
8268591
1147871
8239805
9273
5744742
8340599
7880828
3917027
7948411
3802530
854542
4820071
8514932
6614984
8589560
6436334
8134231
7984949
5806428
5933463
4638356
7053121
1227322
1587540
3820516
3749523
2167993
5174821
6236230
29765
2798599
619142
8564330
5684598
1658983
5903011
6000531
1445064
4402259
8591105
7009774
7789024
1102623
5481243
189965
8680966
708802
8442940
7472068
3595122
6886946
6276969
44205
45987
93505
1541166
2660908
4204961
7109689
8341970
6690605
1421610
5726250
6436243
3269035
7964336
5546594
6268805
3721095
82637
8454985
5628808
1844238
8143904
6627802
7321217
8209673
2810123
5076880
7053454
2477372
5754501
6378076
1623240
5813992
5592866
8189821
77681
182613
7843835
965554
8533123
23668
4602191
5421796
7870326
7149425
2216767
979759
2707353
7855702
2746855
6015995
8054701
4917583
1358531
4610745
8191517
2021093
6187208
6748300
3392423
7527864
4491597
1768060
6414143
1755376
7596262
8170181
5241043
25418
7614517
1131634
7857318
3377871
7469612
6242574
2998554
2439779
6930296
892738
3890373
13592
7920759
5649821
8428052
7911936
5690424
2823378
5806230
3528826
4632511
6913668
6600417
5064995
1542778
4995033
7632130
8042434
6542347
6444148
6878090
4504025
6887053
7342359
8205747
7095032
7517265
4461613
1707523
7918592
6432655
2682662
6326257
8335066
8466658
12441
12356
8450098
613719
6778788
1773334
2747654
7728302
4787359
8283955
6089196
6261800
5057558
2754975
4532603
7531700
1886037
7514336
67774
5761194
9857
1648950
2862120
13589
7837202
4546333
5445126
2785082
54944
68902
2223246
7244031
6763785
250345
7514024
1827762
4978467
7633883
7954270
7874552
8537786
6410674
8662258
1691765
3003335
3369220
3938428
1529393
6445917
586994
2947662
8445701
6066455
508017
3247785
6625337
218984
198789
7712020
3673104
6400348
7527149
3377100
4635390
2124467
9860
4900659
8340072
5923446
1303261
697078
6488924
2769753
1713015
6742905
7553969
5612512
4359160
6480907
6480967
8090623
6121571
3520353
6677640
7880150
7996844
2592301
8579495
4032756
1780575
3050565
7635616
8171657
2126053
3432321
29155
4190704
3069104
7329849
4757808
8131638
7092874
2423613
2243598
3351728
23619
5659866
2776143
1291333
5709298
8437501
637449
2898226
6936712
6993585
8205639
1873046
1340290
7917292
4510513
6823828
4075898
4574921
2821825
1248870
202737
4705600
6925085
4303606
8441187
6032072
6974436
6343623
8207507
8014683
4705357
7980317
4935269
6596242
665035
2547129
7728499
10730
5664321
8486671
5869028
6181230
5796743
6403521
4977034
7508979
366038
4275846
6911096
8688496
2821921
721979
7914359
6181758
497810
6741968
5371687
5215982
7446573
7054912
6971836
3359170
7621505
4759640
8193460
7242319
8792
8789
4924009
2481019
6677219
820073
3442711
3401809
8071223
1287165
3048961
5916419
6554785
8205862
3049206
6350149
7757707
7086372
2573685
3677074
4489588
6924700
8325477
6041988
1240598
8097903
8302844
7008913
4118162
5755910
7665711
3068453
1923299
7240775
6134867
2547075
3653207
6848424
8552387
8469841
7757132
5086521
4832208
4766636
8584081
1202945
2186358
6568621
6167184
6409811
39116
4479140
4249997
1529127
4069422
8460627
5259996
8622984
6844012
8164953
4699492
8164146
5984664
6467991
6444138
1864705
6843795
7573274
1863443
8663720
8162168
3740274
7533100
8081935
6491903
716512
8097453
8146576
7499960
8636443
5296248
25142
8367382
52423
1944777
4181163
5726740
8063815
6425405
6728819
3992208
7776758
5990896
3509285
2701124
3303497
7301098
7840131
8152796
1840255
7973363
8670336
8614316
8422253
3053133
8149695
67946
7912746
7835247
8145716
2888663
8163273
2243499
8168982
5911004
4257929
8400275
1695275
6983246
2915595
8623805
6951829
7114583
54487
5125723
951473
228883
8391298
6435978
3589267
7114290
4577188
6356533
3985462
6937269
744191
8390558
8063870
3903324
8249201
8099266
8145397
6158007
7869167
3747216
7508865
4109165
8165898
6268395
8141545
5825829
8085906
8439372
951480
8339922
4966020
7104165
5834413
1835533
9855
5161639
180914
8446683
6014002
4040151
4547353
2360109
7825397
8512382
4261903
7596063
6015021
7619509
6153723
6316145
6710365
4849808
6923446
951485
4251795
5546171
7470320
2663667
196806
6317304
8339718
951474
1819994
2564386
7325063
2560413
6072693
4565470
6793913
6927063
6378629
6027467
7869497
6674868
6453686
7728971
4766321
3914363
6240901
6494914
7650016
8428314
6790961
4644069
7159382
8541464
3309941
6119170
8338792
4930860
4410765
6675576
1677807
7290554
7821163
8419159
5709447
8484580
3012529
3642313
7476671
5370684
4428586
1815326
217498
3601424
8336388
7721323
466361
1327725
8539802
8064483
716245
5126937
5295491
5606682
7515325
4854300
3181719
8014950
6449549
4737304
7735518
3465433
5784404
7741566
8328203
734559
7403927
7805515
7310887
7511838
3060038
6702969
7091505
8417742
8224214
6505250
8303334
6336524
76073
8515356
8353270
8388481
3457722
5856189
7853046
7675159
491332
7308811
8378257
4556374
583255
4890682
1523772
4671628
7491183
4456987
8626752
7283351
6702963
2943893
7054058
4203335
4670285
4431220
1572967
3606396
6646604
7840752
7529525
2729015
3089505
4662379
1171578
7420789
5991110
2555771
6743256
5724845
5735693
5739048
7357784
7480676
7528746
7194897
8596305
6343532
4369675
2166134
5762656
3829426
7692933
5959740
1545185
8303748
7853274
7509273
7583341
6551454
3412990
3668038
4652263
8254550
2061478
7115943
3911617
6716872
2014882
2227959
8404805
6954861
7921649
4447990
4698367
5270703
6261296
7513906
1161210
295285
6300089
4530670
7275018
164418
2777752
3521944
4552675
8645254
5344465
7900936
7634871
1391492
6613472
7185881
2886933
6131224
4698487
4699828
3164650
7840411
4681859
7816081
8490356
7497047
7441144
1264063
1433483
3839678
8180340
4483906
6449928
4828640
8538265
2529318
2931165
2931870
7772806
2931271
8133752
1173306
8625159
3775072
2278704
6966297
1179399
3415434
1391215
3250739
3808239
1112193
4484798
1308760
4503393
3094942
5584915
4527029
7280972
570493
4216208
3765014
4329915
1472481
2764624
561769
7934491
6050311
4484747
839265
232990
7949859
3946215
1732804
7437665
3166256
4173285
1510876
7302616
1944976
1584362
2769450
7106162
7351514
7367795
7129785
6490734
5991427
27546
7768541
3303860
2935171
8153052
3688776
3303754
7246272
3868087
6014737
3057116
6660571
3311675
7708253
3389896
7356415
7006683
7927765
31796
4934600
315982
4447430
3953472
2871079
177129
400067
8566407
3945704
57156
47521
531552
579605
2197260
77691
179244
4365667
1178371
5862806
5891012
6523777
190170
3193484
3344639
1321422
1544702
6626933
7229372
1419197
4177233
3628320
1472520
1454258
3052935
5862871
4695542
200265
4112747
3876390
2392462
6160803
3294775
7842550
7071883
1821633
536865
8536127
6005290
3539510
533114
377474
3827568
533152
4491193
8161218
7201575
213086
7522296
2811937
4629410
2515870
3916729
3294152
5030871
4539410
7693354
5048406
4875342
205894
6627469
771309
7725279
3678429
7292184
7454966
2794782
6881541
6014302
4793787
6965516
18711
7375311
3394437
2000797
3344322
5738892
1634910
8106822
6845352
1520701
4494419
7239024
7476936
1112067
4249963
530983
4967219
179245
826706
4431210
6939923
3298104
3250847
5742556
2649521
6798777
8519051
6019641
7461091
6798074
7748267
7108723
5589780
6747458
5191658
7108496
4067663
6598203
6598162
2564544
4039119
7982359
3889476
6006121
4068782
7225201
8366402
7430544
8421777
1868205
3363097
8595227
8079235
6609546
5918857
8271384
7134081
7929879
2384107
6298680
5952474
281822
431434
8535768
4627334
7904057
8649257
7003280
5078127
3415033
5004278
4863108
6347026
3782483
4090224
5174213
8132683
8425921
7746589
6640662
7836038
7200137
6565713
3534648
257588
6672582
1887581
4287989
5590505
5672200
7514931
7481973
6908466
7928988
4287366
8596320
4958693
6031151
7915228
4196643
2022303
5856633
363127
6543678
5999291
4585452
3479660
3792147
3432035
4287348
4738267
8190228
4863101
7927790
451872
5927267
4586590
6151079
3725631
3749277
5026613
4607307
3585343
2021274
802688
1340649
4947526
1887507
4996375
8362075
6705513
8052617
5380160
7826523
5384923
6911945
7330494
2135075
4250871
7988755
6317722
6629066
6296656
4261781
4261784
8274008
4016050
8055839
690109
6310903
5842934
585148
6088708
7611271
5163162
2843596
5511924
4151979
623731
6489209
5358742
395975
8409307
6317446
7841193
1156549
7855120
7933149
994138
4928894
5019306
5054601
646087
6544642
7713728
5103430
7052847
5824015
8076561
8310653
7052171
72811
6823017
3930872
7074932
3897995
8607856
6289262
5870922
7931331
2930663
7460789
95453
341207
2569369
8377490
5355128
6476613
7319961
8238078
8202409
5762866
7868209
8319646
5967594
7245413
5967421
7527677
5589714
7178959
1839549
4278873
2411064
6179374
7479725
8112652
10758
5889190
4745692
1525494
6277566
4786562
7277653
3992149
6728273
4598026
5213198
5481930
4532031
4909590
3897979
8342864
3901439
6744206
6716295
3353
5878993
10809
6854357
8256917
5872926
8380406
3519768
4106372
1075800
7395978
8552338
3898015
8034092
3827666
7067397
4861476
8588906
2183117
4526384
6838488
4294835
3419711
6761345
5593939
6373729
831744
6491051
7783953
8454567
6661480
1902160
8029788
4032126
5940928
3860211
5661246
4964365
7055184
8219270
2114274
7602994
4351970
5858133
6227976
4293597
8069232
4604023
4629688
4710583
8687859
5490946
10807
8301150
8307136
4025791
3420221
504515
8254593
6089975
1529321
3897963
2660992
10810
3677662
8076929
7093934
1328087
4892490
5509083
5550670
8482847
8483020
8237274
2978663
8541603
6715093
4532631
7898424
8420956
5446995
7388884
5929736
5979913
7493577
3110636
7476346
7534079
6813061
4903476
6435358
871051
2566433
6985614
6443159
1442356
6177057
1934073
8604825
4490501
4532489
8392367
8064306
4217237
6396320
7763783
2825387
2969548
1670635
7854569
7224317
8239713
7663537
1088876
6090697
4936862
8064505
1956642
8256103
2943299
7050433
6502550
5525121
4514653
6543381
5525338
19999
1611769
7507205
7019493
682093
591248
1066742
6661860
3802653
8391615
2059880
8196153
5525556
6933035
4534572
2633079
5594287
219956
2049840
6575027
1170965
3781
3759239
6321156
4602399
5666988
3036349
8016696
5236868
666913
1584246
1881771
4532629
3637581
4580886
6323228
1107634
7841421
8222232
6291767
4557566
8210702
4623630
3044039
7706386
4997112
4112115
6763377
2735475
4549434
5136127
923378
3962875
4150175
24063
8392471
20000
7080737
5761461
7222803
6955976
4821764
6643926
6926575
4580619
5933544
977860
7461804
7679156
8163095
370390
7966114
6958589
6391260
8277917
5951665
2373699
5757612
8392534
7835480
5709047
311240
1758953
3792065
4997889
7142392
7046415
4520159
3766684
7999097
8009748
5085125
7615984
5592996
8579799
6119918
5671806
6063867
5957631
2098613
3285585
1016376
7939312
6703483
6390139
5434327
969502
3858697
7775074
1763542
1584331
5525432
5928806
3889326
602292
8338662
5969869
194197
8541800
6092887
1097262
8328000
4340110
6609053
7033472
5525486
6958359
7757680
7260066
1476154
5670423
7350166
1303510
1360739
1442350
5525609
663770
7809904
8072346
8194291
971393
8194001
6092951
7273399
5184692
7909032
6812982
7664979
6717173
637470
7986820
2063289
6749343
1059326
1883801
8647635
4510711
1992020
5796929
8327907
7680053
3774900
6475045
8255423
5671758
7843671
6956619
8533578
4729833
7619794
8127009
6300161
7332266
6958692
5040534
2083261
8516029
6093004
4438351
7454474
7005442
2079649
5593783
5470315
3701108
5320198
6626424
6956835
7763582
5874337
394462
3051609
8118800
6185167
3448991
7968929
6186360
12147973
1436513
12386020
12023024
2684840
13547301
13512930
7482195
13251243
9218312
7093109
14690527
10116095
13768853
4461111
13937181
1721016
12535687
12994227
12927298
169938
2384581
12806707
14246616
3703674
5717528
13333862
519272
14090779
11159585
9677354
13426831
7956634
1030500
13652374
12930651
3997572
12855396
12426823
14361322
7986179
14109003
13215952
8923817
14057466
14909417
13041602
14105971
9485607
7273770
12647606
10271867
3881993
12566065
6053700
12368012
6322283
9549850
14071446
14218904
11826815
13334098
2880944
9532771
10253591
9057435
12874603
12727401
9712731
13677640
13512551
12071820
12022134
13513012
14933380
1929406
9349646
5124772
1754939
6602167
9727523
12463555
9137560
8908145
1551467
9349614
10627514
9906565
1222327
10299047
9463444
8932377
9577988
9971054
11514237
13363171
11946029
12052288
9676551
12789527
12855005
14868157
13344433
12033661
12868343
14474750
6921672
13640138
12593295
10004575
12855343
9791506
12888054
8283433
14573919
13623390
10883063
11739985
4736217
14428514
3021862
9575439
4430821
9591772
14474114
12081834
14260905
12997241
10074653
12849003
8067585
14415125
1628130
14566386
9590679
14469677
12736777
9459945
13621476
10163454
14308511
13751426
12932001
13865867
12824498
14602997
14672735
8720718
9212213
5738018
13698137
12209652
12209339
8981656
13110347
9833460
8801250
11553697
13110084
14682931
2443944
14683493
12949270
12781774
5212321
12191871
12190053
12209147
14501824
12274601
9865550
10749312
13697486
14254537
13041752
4538423
115936
9110588
2950175
13829133
14161407
11912139
11397952
50032
11370704
903598
14444280
12379725
5660081
13968660
5510597
12849985
12320063
5222368
11313921
12074204
13391024
13565466
9710999
12517081
13531200
11861063
12089399
5453775
12497846
14137262
14398508
6387077
13037372
13521713
7008455
11006149
12102482
14854671
10051003
11219568
13888974
9428208
13233250
9710673
8973362
10153739
12707324
14442333
9824155
13624971
9626892
10478553
14854164
14196983
12264207
14685769
14867747
13081347
14670311
10328539
14668008
10131503
10153536
12359031
13000520
4625517
5412487
13062783
12357955
12750816
9998187
14336348
13525610
14339562
14110186
13658697
9407895
13651290
10537553
13060366
14092430
12667158
13028092
12608363
14235257
14759485
14237196
13449737
14365669
11940785
13397390
11398458
12265433
6268082
14820482
13129109
11963384
9825415
14731382
475259
475254
8733896
9166002
12303347
12301081
13079659
13024385
2187766
14246956
2848393
14573486
3342206
8830015
14898198
10611728
11169560
14251275
12302222
8861069
13417639
12383204
6500646
12986892
994317
12428994
9921925
13813380
10116726
10136854
10034614
14918194
9183638
12984748
12284774
10117472
11126122
12067685
10116429
13943142
10034113
11968079
4255538
10033710
10033322
11982313
14506396
10261620
12899321
4445906
10116601
11981674
12949309
9261381
11772497
14420920
12356183
14420354
12986016
10262069
14222649
13762650
10117329
13624476
13445221
822063
12826145
10704442
10928093
9834727
14204600
10106081
14461498
11648212
10779412
13744821
12221012
12843196
13478348
14104621
14857923
12269155
13800505
13007124
14808548
13248823
12957423
13107648
14282764
13709092
9858828
14035943
11924459
13005579
13573506
11922134
9750460
9841140
13298108
13642397
14624254
10836881
9610609
13414367
12425501
6939759
3664031
14215317
11624428
9331460
9117009
14572511
14780436
7036112
14424224
14429876
14538087
9425902
12407753
14589695
9344096
12784064
4034018
11229070
10997047
7080514
12585455
9259184
14239909
8390793
9706199
12683680
12306135
10175033
12599820
13140867
11223924
2376518
14483758
13074722
4653267
13258244
7273513
12494334
13653233
14300751
14300921
2260547
10190260
2260501
6093430
14756269
12351909
14742564
12368082
14907062
8402408
13513696
11300899
14668441
14813006
13054720
11907764
9614024
14414473
12627225
9415712
9694218
12857811
13298137
14428517
13379155
10249798
12756776
9166393
11656698
9362821
13214949
14428745
14110777
13796564
10247000
13753007
11639480
10787333
13261006
14473053
4593974
3343428
12463075
3888360
14426987
13653016
14472812
8420883
13652639
9834532
11948017
13077603
8735827
13978700
8703026
12504504
14855404
13918656
3656168
7784616
7618925
13549924
8734707
8815738
13735741
14418787
7161203
13797162
9961767
11011124
12796808
9896359
11213228
11856912
1166808
9862792
13995573
11687031
8902304
7456890
8987722
9208166
14918869
8988506
13494185
10427199
851927
12287958
13713143
1277618
9731479
1899770
13707814
8846202
13171246
14591627
12384469
9933886
13318173
8992733
11588543
12253029
12890156
9841645
14414330
5532549
8631257
9663423
11841986
8827268
11710680
11686744
9821291
9611852
14821911
9728602
11873789
12496332
5352623
11902134
14461998
10227043
14709217
11397511
13378987
13477286
13378936
11041684
13378923
11771810
6348631
9840919
8480507
9430774
12426977
12508801
10083878
10427882
639111
14933461
8381472
6038520
1106555
14304682
14091605
14819274
7377034
13460331
14770892
14589341
12049787
12034317
13377097
11590512
10656576
9706279
14817983
13605430
10656206
14486599
7095320
12308161
9508975
9197535
12916551
10391455
9574727
14522631
4461846
824244
11060140
14125957
12587887
12653367
8753913
9949819
9853959
10671192
9446242
9474436
9757412
7901248
14094279
8815257
14372667
12979965
13078164
14405817
14589471
13713445
13078068
4787233
12094488
12290886
10734159
5867761
5834930
11470818
13928400
11634638
10656899
13912472
7342489
9487079
14489201
9094794
986399
639101
9207914
11927580
11585459
8782991
13697966
8970393
9864083
11687122
13697464
11796879
12318093
14680277
12812461
10567830
10634364
12290477
627048
9918240
11275963
13864961
56927
2189086
716643
10859498
12603280
10882267
9373802
14217967
7749568
10037387
14040844
14855656
6908525
14745087
7159343
14858003
14723758
8663351
14041036
13729738
4603803
13614982
12304165
4603588
13090471
9993826
9993602
10812807
13466910
14670143
1264217
9698823
9992532
10811
14711359
9992751
14322091
13433298
12286410
9238963
9631816
10860611
12154934
13711334
11122394
9991857
9144588
1498719
1717816
11590000
10138904
11121872
9974833
14397533
9809914
4490826
9346513
7860369
11905849
5581575
11201204
12626504
13218392
12268144
12205324
14603013
13872339
12020829
14822424
13674964
9677207
10070404
12953937
10084216
10266928
14722711
11462476
10266397
9414403
14821064
14147343
8822499
10228457
14917151
9725178
12362389
13017460
12264926
12797493
10264774
14442491
9855805
12263690
9920084
13015832
13015927
13589343
14713980
12390027
9231486
10542140
11885148
10148425
10164759
11082235
11589644
14636981
14367134
13591607
13015353
9918713
2331886
12489916
2429961
14423004
9343915
9327506
12621291
12914154
21337
6991310
14422695
472070
11211273
14085771
9180947
13391640
14422439
13848636
7475215
9252183
11980767
8737466
13864771
9992143
9228519
10293480
12865092
9473816
14552102
12291029
10881994
13912943
14388025
13110631
789843
2247190
12897110
13060113
3704801
10569282
9504314
14714374
13912470
13912467
14819717
9504177
6882615
11371205
12998272
14386825
4080849
12092499
10454061
10945558
13992811
10701625
10409490
14713259
3867014
13959444
1589392
11455804
8982616
13820571
13926704
14885796
12646288
8846849
13908638
13433317
13908031
14564883
13884549
12580274
12891323
11695285
11498583
14824568
11498523
8859689
9531326
11398953
9382898
13233001
11498416
10056496
11334091
11866869
13594886
11579622
12560987
12233285
12233225
9958026
14168664
9858437
12971157
2634499
9897713
12233043
14083611
9698226
2778656
13874533
11593592
9711934
13969217
13100828
8064980
10233104
12051674
14885917
8970779
8118718
14918032
13393418
14072546
14344516
8757949
10411383
13613562
13394184
11333422
8166076
14178758
14072256
10132073
14522917
8231382
10524612
12604733
13046976
611081
13816458
12308927
14532696
9751520
9145242
13421289
11618815
14141920
10356880
9390951
4475740
14262627
12699603
7489883
14075290
12436115
8716849
10945407
14255219
14533011
14844149
13064781
14769652
4112178
14924831
14660635
10253899
14136509
12432535
8613870
13414159
12825412
14594810
1223050
14834305
14296152
13951579
13163259
11837857
9822600
11395461
14013663
13083342
13655073
14858782
13032590
9132081
14292385
14013583
13063952
14537320
13586128
9900315
11521541
13045194
13585624
14191723
12356962
12372052
13830152
5719606
5620496
14501620
13371105
14632658
12130434
10118573
14423483
14404992
8696236
8814479
8191739
8814039
8813451
14908177
12088322
13545648
10119075
4467841
3931204
10118716
9644312
10118946
10118379
10118091
10052037
10152056
10119193
10051649
10051842
11967208
10119327
10327517
7308623
4489920
14467554
1867881
8309711
13249829
7928656
9386847
10311094
9596153
14025410
59776
9232355
11202183
4718577
12648403
13778731
5690640
13810937
8732121
13728510
12493396
8052494
13433475
13521992
13138055
7713815
8747720
9107357
10434883
13121821
9844242
13295184
915272
14742722
12726343
8384444
14035936
10611598
13300621
14873017
8614167
14758045
11120777
9235198
6908672
13101775
14872018
10857914
12365159
13331733
13797236
13658522
9169272
13788865
9857049
14673441
11906382
5743939
9464030
13330146
10379031
5725804
4644455
9133627
13524454
7854872
10855052
13591091
1745339
9755993
3873776
14798673
13294558
13376457
12210223
12738816
6776075
10164810
14572100
11016623
14374965
9248612
14586440
14700046
13307513
8704161
10653150
13306811
11701611
9078998
11306586
14124430
8471852
12143408
8782592
10470115
11343485
9273978
14407094
14857569
9273395
10945774
13993185
9274587
14074739
4489490
9934771
21891
13686161
9905304
10742655
13926201
14421910
11357756
12211821
13081090
13216268
7838961
8799256
12069214
12365454
9299923
12898806
14335782
13926017
8814532
11336922
14236787
14760955
8814105
14122467
9796309
14351036
14679817
9680953
10549219
13793578
12383703
8814215
12563549
2715779
13152370
12382239
60356
11842312
8696200
9709597
8432166
8792552
12087989
12541136
13652746
8563141
10116914
9218288
12232615
12363660
13723404
11069156
9707238
14574734
14754902
10117803
10295349
13836832
14897219
14760973
9922595
14870557
12902509
11983535
10117122
14760739
2776391
891953
3414993
973695
8837755
11885653
10705351
13113748
14653823
12752020
218259
5953696
38579
9770560
13669224
70481
14897997
11440702
11866651
14110129
13980127
1596470
14421841
14421692
13078148
9425087
13275308
13225005
14421403
14421304
10881600
14043390
14420163
13812075
14419982
9530285
6686224
14419482
13912429
2410846
12830117
7832890
13730500
14303099
9111413
11061030
12987348
1966195
12815192
1868124
13027627
54215
7414930
9364092
8955473
8187052
14852273
9127677
14608495
8925974
14660851
7211531
14682588
14418593
14486237
14469894
13434817
14274311
14221294
1867754
14368660
9125711
11592154
14073235
5684346
10231714
9452993
13073078
12630619
3783090
12826881
14252020
14825159
1242798
14595735
13863190
9041513
9845039
10995976
12154150
12973308
12432623
14824684
14481328
13547391
13449049
6894734
11890768
4812786
13709190
13266833
6516588
11087731
7220216
13544430
12446656
13724578
9941923
14136069
12972378
13147585
9040476
13546070
14662927
2174476
9367059
14774868
11431331
9130532
13397201
1141888
14873137
8335838
10186477
8187595
13298014
14624367
14360470
6446940
14468407
12183851
7219056
12969783
14823724
9496325
8335652
10034930
13082258
10149314
12854553
13968572
12592117
10036192
11985521
11035223
8336347
13083058
14573969
10035581
9793239
12871837
14608502
13018428
14917833
8184007
11788394
13017162
12870514
10036037
14818575
14885592
10033715
9329398
11987762
5659780
12246137
12672097
2872717
6955911
10048789
11474130
11677211
9393163
8334845
7869368
13667826
4559774
9541295
13866603
10229333
13751871
9999894
12359181
9770477
12899026
10228228
9180965
9868322
10228764
10211649
14553190
36885
14553171
14799678
10949319
11751289
13733558
14798497
12652181
10113230
13078025
14109809
2214923
11799482
12208806
6324649
8325366
13076586
11634778
13994056
14485048
12962229
8325544
14595823
11454728
13714817
11240774
14369574
14647971
13435185
3278624
11454147
10995355
14533117
12796034
11583581
5308475
13079902
8325030
2016500
951476
10552485
12247217
4916260
11990528
10552237
9448243
12828996
12184433
13824970
13375092
5739119
13993626
13642405
14057189
5406448
10747524
12254831
14646704
14614422
9953144
4291607
11418599
13584884
12811191
10594800
10009367
13564587
8780440
13056513
12761363
14760011
5447285
11220522
11760822
9723217
13478868
13642655
9989001
1110423
1912940
12339410
12856007
13347495
9256035
13642260
13577929
10333345
1961034
14707780
14250499
12873438
12052820
13624929
14460344
8789821
13264687
11757251
8518237
8461819
9250014
3318814
11494020
4628907
11067772
13674701
13265095
11921486
14754108
1937433
13656969
12739300
9461126
14780153
10607657
11688611
14834257
11147761
13960193
14473036
9255725
9410831
13490438
9114896
1185034
8934599
13333256
12709469
13800294
13031523
8983081
14864858
8753559
13111691
12833084
11035352
13684319
2526773
14770708
14322546
13192046
11717217
10226171
14912536
9685102
11569156
14698794
9896713
10835494
6865619
13222465
4489752
13156872
13374823
14500012
2294730
8962914
13960293
14402688
11441717
14767573
14303090
14878512
12708781
11662212
14692682
13938959
8265182
601763
13266176
10185866
13028899
13491626
9926796
9301075
13261681
13015767
10279083
9607296
6706463
14685903
14159799
8720673
1757417
10964552
13487348
14552489
12618291
14677678
9340410
9292118
4180178
11626869
13827734
9550398
10127270
13907143
6401859
14593751
3974503
14719754
13296735
11983286
9607385
13275334
13697676
14778561
14272646
890705
10381729
9826706
14086516
8761060
6006328
8904546
12492474
8904297
14686119
14242888
14663819
14664852
9047646
12904318
10234895
3522237
14691657
12971329
5729203
13565183
737519
14092792
7389719
13928082
6763587
14928000
11410652
11376403
3788075
14682145
14747561
14826101
8899828
10764250
7274342
11992431
9352045
1128894
13565471
14056340
13564762
9894686
14809866
9239190
12593225
8518091
13318312
8700820
14756184
14710769
13564281
13007181
14461747
4879579
14219033
5371051
1881180
7222349
11569331
3765289
12103501
11964926
11021254
10185646
12366845
13622776
13546414
11389072
13415232
13578911
12857981
13168176
13955674
5844314
14740708
13266133
13151270
8956962
9415687
9685076
12593655
13613812
10610205
7939556
91588
9887664
13655923
12020004
6574771
9332643
13281106
12052292
9494212
11853416
9493951
10034592
1352776
13509665
12125635
13417233
13574652
10559976
9279773
12109171
14671948
9494511
7449448
14918425
14900236
14127153
10068240
13098572
13313124
14539326
11759332
14632821
6887926
11966297
6870485
8886703
9685085
12343588
12657537
13767907
9383459
14822087
13374617
14093943
1332786
4350898
14040282
12344014
13242393
13979354
10268223
3641545
8523157
12586305
12175961
6655012
12126299
1262443
13325983
8947232
13714934
13687764
13699440
13927765
13443949
14647962
8587030
3589869
13236936
8536113
11584799
8291550
11258721
8717204
13239143
13861258
14565726
14600925
12593869
10426124
14389002
10053549
10138792
10905777
14468656
14553530
13514017
11648688
13450880
14843783
13221129
10051357
10050351
12287687
14711125
12679021
10053928
12072006
4435883
13298546
13218729
11563716
6843850
14774811
10054046
13510994
9218362
10053235
10053032
10053454
10052824
10052622
10592815
10052920
13951039
10051623
12984263
14158636
10052445
11087657
12639344
12047758
8131907
10475848
1644031
14291722
11735784
12309083
11275661
10850420
13602808
11276570
14519844
11734812
11572070
14387692
13813809
11863590
13814175
13813149
13746896
13911832
13942919
13713713
11649321
11592067
7853971
11970702
14873100
11492423
12581300
11986653
14843050
13532311
13188046
11787441
11714059
13294824
11008495
14842237
13924495
14186170
4699742
13415984
8828147
12515067
11757376
9237653
13333623
10103725
14151531
13282275
160572
14693220
14884243
13855525
13113079
11020786
12545716
7745117
11757166
14591406
11740527
13642024
13477535
13969106
13672165
6796364
12803718
14868087
5727231
10494550
10034183
14870532
12738641
14426124
9626428
6544715
13190410
13671334
9460898
13752754
2021489
2021483
13605196
13555596
13638077
11295065
12835086
9508099
13866156
14898146
11474629
11474006
13636659
11758169
13586841
7475557
11653496
9507164
13586491
11767622
2412715
13028935
12998582
13864415
11947150
13864196
5868798
13044229
13863117
12208307
13306033
14928333
9013631
5851489
11127085
13550969
8930592
12665563
10749794
14107067
14663743
12534735
4402209
5884210
11818157
2135451
14463855
9926208
3866526
13795095
13590412
14413896
6976414
10353263
13342372
10253416
8714682
10730102
13024208
9109401
11255643
13696794
12628940
11304657
14220964
12270833
9813223
9878725
10032327
14253149
9445192
13450030
5775139
14416538
14203428
14055887
13007112
7894645
13801598
10724635
13515084
13530359
13355213
13512459
14153636
13879099
14251839
10123024
9533193
14231732
11530331
13415816
12873559
13430656
13578106
13462519
11512755
14037899
11022736
10231171
13606268
12655758
13019695
10021398
13381254
12873268
12233830
13592046
13004551
6923942
10987109
12592696
14916248
13295386
14231514
11528125
7797744
9496337
14655187
13822146
13236820
10706413
13685207
11896394
14756029
11036835
13002808
13443430
13656292
12755021
13017064
12620315
13345701
14443295
9834617
12262803
9058863
9110708
8758450
14572515
9593141
14484865
9969226
12540640
13327034
14473911
9854083
13998602
9541666
7575576
12253499
13684464
14473564
9885963
13550412
12409042
13391054
11343048
14055624
12752442
12736032
13685592
13685577
12997334
12735138
12735111
14340601
13685228
13275579
13733887
14651378
8310660
13464674
13509242
14487262
14454943
13782612
13684251
9473811
13126713
13028247
13996398
12176027
14044530
14650655
8751275
8882195
14473323
9570618
3609536
9470342
2672058
14572086
13451383
14773223
9078482
8704828
14303761
13681910
10208321
12026868
11043756
7462268
8921130
10436811
14026059
14503389
14610297
4332035
9807292
7789055
14902894
14866400
14584547
14400847
14510982
14848154
14774426
14487346
14550228
14566657
14773792
14874204
14533848
13015653
14849141
14604429
14592644
12915510
14887382
14823430
14881840
11452297
14576706
14335003
14871445
14472678
14574800
14426586
3131519
14592547
14744740
14504583
14743129
5280827
14689681
13750763
14536322
14852179
8373729
14844274
14585486
14603878
14504422
20872145
17419858
18202496
16987125
19248168
21096625
20902319
13318522
20649310
15217781
18085704
15954650
20673030
17574145
18016452
19212437
15935306
19965562
20997260
19702475
9380145
19914995
21126044
20978478
18175604
17471070
18388452
15193504
18912111
21107821
15864923
16272709
18181482
20207694
21189065
17382859
15099163
18254869
21154569
15616726
19073668
19991354
18194673
18580155
19327752
18790023
16172058
16892278
20406376
19102964
19294099
17843922
17476391
19007014
16125278
14868545
20015244
19103076
18802946
15149497
19102461
20623854
21217225
20053362
16266043
17249794
8879352
17451062
20050570
20051917
19656368
20053152
20053494
17710012
19545217
17838605
19430766
20885932
19911540
20639600
15432250
21213790
10059572
16674124
19328794
14531631
17296595
19311820
17675806
16282250
15869937
14549157
14991616
15581154
12419766
18857626
18873614
18358140
16891720
20035860
20888247
18955871
16119921
19346178
19100282
19589363
20051287
20493376
14086550
21111456
9057418
19590968
19361786
17772521
19951509
19696922
19836161
19655883
20540368
18263612
20359898
19655359
16362002
13137300
16494984
20572354
20784807
20998585
20052971
19588926
16770690
17524373
1058448
26160
3156111
16132162
10921540
20754696
17147334
20817162
21062843
20773742
19571817
20732926
15584456
14573951
18637173
15213580
20170239
17523630
15917321
10494118
18112658
15147053
18325923
19174144
18786789
19111535
21175841
15429538
1301822
19209936
17807912
20520099
20038847
19651694
13600618
8160295
5969920
349409
17666702
18448985
14668276
16536379
19590313
18240259
1528568
3493840
17158062
16977823
19830344
15338795
16289538
20205227
19910241
12602632
15126054
19568535
18812187
20073664
19713115
19696559
19450658
17664717
18612685
19826935
8931487
20088992
14518405
16779363
20482083
19330793
13584318
17663849
19695447
18155266
2262752
2031909
18810960
15287975
20928111
17565296
19251462
20882903
19236205
20514129
19842407
20235208
2033103
20743602
19055159
17908743
21152722
16909100
16504000
19364110
16380644
20903293
19100241
18912571
17543473
20459710
20351854
15020486
19455477
15548410
20381047
19873507
11827696
17070664
20051513
20351456
18979061
10851007
18345436
19160261
14930357
19141431
21014475
13746034
19506279
19980998
21109844
19173476
19177794
19561932
18228183
20173397
19177986
18599691
19456107
19455243
19455818
16986429
13673021
20355929
19159772
19159488
15429888
15678463
20355160
20771314
19056187
19175044
19453190
17927755
20379893
7825207
20353612
19173890
19157252
20350676
20353770
20353421
20352865
18770614
20352746
17190525
13673056
20730497
20830104
20352341
17140945
20237485
20350976
9275838
19453549
20350489
18925063
16204431
19160014
19454877
20354465
16067773
15284641
18247312
16954410
21182192
15038186
15660279
16426422
21227196
15296865
20407323
20976155
15251516
16814381
15126071
8919439
4587068
17514163
19181603
9229058
21022394
20213864
19838886
9133440
19117780
19544792
15284277
17281898
15282690
18266259
19018530
19019136
15630129
20234102
17559756
17280729
19380091
16806707
17281599
19379201
15283105
15268842
15249493
15283510
15187909
11973196
13074357
18546212
15187617
3341329
15283836
17282016
19116365
16806101
18969917
8924562
17559493
16806556
16806367
10034284
12382743
17280114
19115109
19769496
17573922
17559846
19113658
16363651
18489707
19423386
10033850
18537967
19602772
18684888
10033976
19602101
19798661
18110859
16767348
18389483
20830101
13080375
18388606
20174390
18077052
20829520
10262267
21163530
19420578
20189858
20877898
10424879
20730657
11637504
14995433
15284016
19909329
14961073
15058488
15543038
17023481
20228320
20189993
17076773
18755373
20573610
16739383
19735537
17510868
17806747
20279560
16677581
18345211
15052259
20067870
17590738
18186972
4030229
15308143
16177663
15645642
10986
2372459
19151055
18445756
16674992
18395322
17510567
14790692
16985730
20983197
21097890
16739513
20032727
17509246
21228356
15444531
20309868
20932029
18343565
20309505
17510784
17802330
15901362
18374808
20979642
15582521
16177662
15407831
20650593
20650592
16275903
19224791
16177678
20650467
20650450
20944775
18126639
18519592
17405389
17405305
17405146
15044173
16813633
4658261
10211953
17404477
11813641
10588715
15471042
21041069
18631999
16273796
15043894
16338697
14025330
20581971
16845972
21097661
16272452
18648107
20726227
20269943
20695905
20728000
20727924
20727699
19269439
20727380
20727199
15222140
14452500
7914679
19039411
20726959
16859879
20727269
17237411
16859758
17252933
18055225
17237082
15483912
20726692
20726840
13173203
14975916
17493147
19295329
20864277
7699667
20819487
336788
15956789
21227461
17710500
17956766
18820440
16335085
16678094
17314294
12450026
19119469
18789766
6764040
20492314
14367406
18499623
18181848
21154164
16739813
19969497
19532898
15232309
14253485
16971718
19987777
17969508
18220200
7093184
19413075
18776123
1081386
6930501
19084599
19053886
18807989
20281806
17430142
20788754
20445979
20817599
13056821
19905365
16413314
19526556
16052682
19181840
19182289
20819710
16545081
17795007
20000347
19655960
20687802
1682936
19762057
20818827
21162873
15936156
21205442
18756360
21112581
20064794
20861260
19670771
18933650
5495267
8488594
17541222
14747309
16131645
19588647
17619874
20649021
15344876
4624582
15139748
18686660
19751849
18706454
17892769
1204755
15163837
20849944
20504207
1171553
20307535
20913672
21110054
17892643
1596664
15462293
18898296
17210305
18356892
17701434
4593985
19716328
15177273
20960666
20730943
21026932
20862114
18789496
18473519
8442154
13422887
6819620
18893583
18899037
15453527
19631414
13239882
19303637
3705824
20819948
15085512
16878187
20023865
20023862
20023858
20023852
15232044
17942707
17779084
19351506
17745620
19138622
15468130
20858430
5358934
15041272
19694238
20693094
14337161
15139846
18777049
17744380
15122796
14994629
20902198
2737853
18158828
17481668
2134805
18808240
19316580
19996962
15267069
21165010
19892110
20297439
18411906
16322139
21177049
6168687
12712045
6239039
11857549
16288361
18412267
20248640
17300267
15022444
6075154
16037167
18888469
21149129
15905164
20740912
18975041
15356642
20955187
20152320
16531634
21184814
21196094
17529340
18890604
11547657
16618214
17609053
16334635
15609432
20137739
20648928
20229074
14981303
18213171
18311092
20085832
19982161
17810293
21047722
21080162
21139451
17000454
20679356
5826159
19571919
19195239
20443029
15718719
15164324
17994861
15885237
15048978
6854216
3432438
16490513
6939097
20914641
19750771
15064899
20929696
17285926
19504228
16721130
19720777
318050
20585140
14981534
18782625
9148781
19159379
20772407
16930596
17700561
16881821
16733496
18699534
18617002
19457729
17567087
20317526
16930825
18124698
13029806
17616603
20582355
19303980
15420883
18637999
20582092
19603347
19087238
2640459
17138041
17015212
19220895
14991767
20989824
19744604
16631575
15517432
19122257
15451419
18137221
20409108
17962385
18230092
7421361
19996755
19661260
4912544
14441447
18879448
11712306
18823105
17903944
17134163
847808
18169357
19182228
18070939
14808631
12086434
20560553
20574167
17794571
19282141
20871446
19033484
15264864
19264842
20475756
16755381
15166858
19545605
19265951
20067972
19135407
20052692
15318231
18755741
17152472
15907942
16890546
16961415
18325968
12168286
15154816
19820827
19982015
15417450
20070537
17095403
17039358
13926272
15121740
15580808
19364977
9239512
20970394
18119256
19052102
20068164
1143410
19050865
1179165
19051657
17936963
18898292
19247246
15173640
15397125
21147304
16347088
847856
18636101
19181423
17559377
15134020
18789646
19065795
18508731
18214440
17591837
16690607
17574739
15133464
20884262
17591026
19065836
20999140
20790373
17873069
19933657
16001334
16869658
14936298
16869608
20883669
20801699
20015249
14870402
15181577
9859
20310094
19884146
16869454
18507841
16459191
20817343
18638549
17622706
15541488
14935220
15246509
20817323
20817322
19544986
16377190
19522209
20570462
19210194
21160782
20881589
18915873
20492259
20849061
15851383
20635474
14966548
14966475
16274148
16106701
15989113
19553261
14572499
19504080
17734408
13032174
13327413
18209477
18241963
15423847
21070094
18945971
18945958
18945938
17864579
18945706
20764314
19158669
19159130
19997604
15172518
20649367
16455403
19977951
2544922
15341783
18945236
19265709
15602584
18338493
17650359
19338355
15504162
17526985
8934152
15421578
1278391
19222960
18354570
7475573
15470948
18808916
20090712
19369772
15175370
16961217
20729357
21188095
2837932
15174895
6198818
21187465
15819226
17283046
16845440
19139196
15370847
20482595
20587592
20409484
15649018
18909357
15174147
886668
20788865
15140520
886378
15435324
15173160
11568947
17532711
20087012
15009005
19858871
8553163
15581890
15073826
21127261
5581574
20070739
19661845
18793428
18105285
15582062
15581608
17039783
18575841
20870095
20660605
5534206
20697709
15990488
21173342
20479416
17218847
17611122
15281436
14216418
20216776
19019422
20217062
20216964
15052939
16427608
21009527
16690490
19102778
19672185
20148844
18612312
18755420
17448181
20282569
3966772
21134436
16071749
19102654
17333101
19315157
18626944
19593585
15857974
20886482
16186033
20624939
19102527
15071413
19019981
19019919
20871742
19199379
18609417
16150461
19951522
20933869
15494066
18508677
19344027
15018607
15166391
18613633
16148992
20499955
14936017
19458014
20227983
15524772
19310183
15525369
15525301
15525488
20055667
20915446
15525006
18892243
17359540
15524846
20783972
18342707
14065905
17611434
14574647
12345890
19056046
17359335
21176767
20268369
15343566
21023440
15536111
21176268
18488956
16276965
15719599
17636554
19209066
21011302
18093265
15374913
19798391
20710408
17365333
13883902
20666793
17962927
20518688
15500230
20175220
20650166
15524898
20174317
19071875
11625336
8688811
18560282
18342681
20589237
16286570
20567199
16503419
15520235
14881574
20599193
20861300
3965658
21024550
17387160
19587539
13995462
16895403
21171599
15535385
18290558
20663729
21171163
20696002
20663083
3967690
16173765
3967592
15026535
7179321
19892423
3967016
16179346
18942329
15352809
15025907
19121881
20432569
17974950
3966626
15405175
19727919
16352510
21021423
18858706
20710110
18613760
16188028
3965492
14565888
14565879
19826939
20805018
3965313
18053271
15437077
15599662
20245872
18052990
19455651
17656957
20206239
20164075
5550254
18840848
17528696
16002324
20266932
17477782
17478309
19790139
16870359
11693129
15873100
19763886
15908237
14950622
9404451
19071169
17989108
12208705
17608648
16858996
19281867
17676984
15481668
15233770
15020558
19199046
15054000
20164290
17461256
16233671
15985435
18898042
18902025
20703145
16344960
12232499
15508735
8774554
14950476
14950378
14950328
16692369
20815139
14950089
18029534
17669015
21174905
20552217
19863482
17667949
20256823
17207702
14963976
18910691
21041723
19501578
15297238
18053113
6836689
21090626
16364879
19959233
14339068
17875439
16517776
19581567
14928081
16156516
19744120
19317364
18956914
18498138
16172035
15287262
17730361
19088192
16479752
19941916
16351037
20185106
20086367
17399272
1868004
4579186
15726711
15726469
18888098
14216000
19327378
17729574
19948159
19947454
19947224
20279115
19455142
20208589
16702101
15898519
18912787
14423116
21124198
19926959
19926609
18910240
19925457
16336756
19941093
1867834
18907659
19870249
20711007
17386330
18456430
18376849
18475428
20011033
1960407
4741722
9414160
15471093
19282088
16693642
17873248
17024774
15148487
19550212
12962923
20151756
20722772
20476340
18387338
14200338
19019562
20410237
20639808
21172765
13185237
18957205
20067230
14367642
18311582
20903325
16462547
13188501
18841628
20135997
20514858
19292171
16285798
21010005
16367520
13926284
15679333
15678924
16596372
20998710
13696242
19904967
18332030
19291771
15071185
20068905
15772120
12678952
17380802
18535259
15680687
17134180
16904896
17494062
16494169
20918179
17591467
15552245
15821372
14887491
19209297
18934135
18458938
20786923
1935042
18934219
15673767
18719421
14575184
19309861
16148190
16163931
19506136
19309434
14983707
21013010
19308998
19144667
20045791
16392095
15916945
20255529
20651840
15851308
20782313
1252489
15664359
20392363
19290895
16276224
18487889
15407458
21141875
21076367
16436951
15767548
16071075
19945100
19307193
15767124
18894466
19959185
14111670
17774119
19308245
15281975
19415743
20762670
15634401
16488513
20904527
15126802
15426197
14552847
8884103
16272848
20264910
20204794
16239598
14928666
18582571
14916417
444425
20760391
14387004
20889737
20137476
10469962
18557609
1688705
21205051
20054296
15581663
19530176
20152689
15463154
19608419
19754060
17496201
19691987
19823907
19695858
20459025
19527633
17905853
20707276
18267171
18462544
15841899
15314772
16854686
18396209
15543904
16382057
20770875
18231522
20787326
17955648
9072821
8711300
17265236
15038991
15337363
15340831
14744481
15390344
10137247
18136792
3914729
10811129
2141306
7913309
13711242
11282071
16412763
19824694
15188208
17156819
16177666
18562429
17333246
19501747
19544387
18659049
19593368
19827018
15267276
18462031
15348147
17478893
21163975
15314862
15068478
15444930
19823776
16489609
20622324
19180117
19376491
21010620
18810580
20588785
21162200
19097569
20281210
19293969
19932625
14744525
17211741
16999403
13557973
15841981
15589328
20618809
15375825
20930004
18226956
15314809
19946938
17702303
19701093
19358947
21011223
19143327
19798698
15407480
15407347
15522020
19552273
15833104
16177707
19945965
19562001
15342033
19372011
15407065
15341441
21107564
20928309
21092518
15390860
14424180
15390808
15832676
14421605
16569938
20977237
18908082
19584489
18584987
19699023
14472483
3544343
21140279
20901417
20354019
18666352
18765384
19469134
21107373
17110127
15127120
20468295
18895387
19469130
11784924
15126633
21106680
15126511
18894794
20631480
14995900
19435927
20172543
21139072
16895588
8457785
15175183
15797699
15256954
18074943
21105981
16960812
16977098
14421197
18123908
21105409
15338096
19532043
20875310
17943034
18876930
805307
11601819
15206282
21104715
20744258
15255593
21218973
19153136
15844652
20858051
21218751
21152473
20890310
18596543
19694265
20071018
16843072
19071291
20890772
19448926
15057919
18842537
19694483
16221083
19436968
21217774
13189564
15188419
21154702
18239585
18599754
20456961
19195602
19019477
20031265
18735310
18504723
19674739
19785687
15509627
19567173
21150610
19154786
17904725
17527059
4307812
20695174
15285110
19574477
15037015
20329720
15579760
17856284
20926438
15282232
15284412
20331402
20330477
15283832
16297441
18734294
18445635
17401983
20755895
15232882
18544831
18101186
9878803
8336609
15265633
15508045
19555795
20664367
18235467
19316661
13602008
20954762
21134587
19381483
18878705
20053166
15596610
18502823
17923033
17922433
17922370
17857197
17921621
20747756
21231173
19069018
17282895
15266468
16230741
15266709
17920249
15267007
20361407
20983968
16232570
16297725
21230903
16297598
15232621
12906305
15265097
15232287
18717913
16297210
15231923
19507888
16297068
18476009
20785742
10813
15266217
15509834
20523304
19540224
19356659
14755734
21162038
21079638
19564884
16721171
16284546
20522665
1074406
18752630
19700448
17588460
20242577
17015877
18342429
21127667
18047469
19291785
15408774
18521586
18521414
19111197
20860897
8051720
15370440
20896694
21027752
18520843
20519992
19323221
18209005
15718623
18503888
15773389
15718448
19372540
15855270
16750384
19459411
19863741
20387944
20321921
18568924
7279874
18846688
18519006
20206220
20664897
17862060
20762865
20648721
18207487
15827529
16469939
19468739
20844945
20647654
15408519
20500458
17403869
21175685
18110395
17239644
20426620
16322051
20090241
18976098
19229917
20392459
17419463
20745417
17861343
20842436
14993326
19384244
10880916
16296934
15409504
14616134
10241577
21202475
18498991
21151013
21185872
20088028
16296800
14353399
20775116
17591030
21135749
20634122
18118166
18944060
13515118
17609594
17608927
21203877
20091759
19182296
19347139
16543246
18377950
13528233
20219970
20998700
15134904
21135600
16464424
20968085
15086350
19364446
17399127
20903558
20285586
19737942
20362620
14809312
19642128
19855550
18170647
18487128
12414737
17924239
17006819
21184795
18497489
17956307
18890126
16514756
17528529
18070133
3865336
18561292
20363107
17609382
20493345
15692812
17936801
16413043
20410602
20459324
18826214
20214044
15789680
18021716
21163990
18001123
19999685
20213310
20868619
18934610
18459463
15805081
15805082
16689613
15167592
16427420
15083937
18074907
20817817
17606513
18294620
18736918
4630071
20637238
20817403
20997664
11421305
18944289
17540316
18160503
18736314
16966827
19621258
19473060
15360375
18162671
15410121
15016872
20210515
7298966
18449729
15867759
19111774
15507108
18652833
20602344
16841857
7659268
11345105
14900386
15167383
20864355
20601598
19552922
18848342
13490995
16324994
19240978
18962382
12834650
13719227
16570524
20420751
18929287
20993584
20895262
14970501
21026534
20092106
20943923
20452368
17138489
6050928
15142679
19550846
6066713
18255922
18370554
16810733
15322998
15476718
15765466
18812493
16160848
16600533
18812271
18812080
19303613
20810780
18811877
15796872
15059574
20875857
19680116
20990141
18811028
20433388
12896684
18811259
16894328
20891531
18974545
15173372
20465363
18941587
19875422
15041925
20465437
20497163
18875599
21021897
15434352
19858006
20250936
19218707
18875553
18875451
11125734
18105163
16941879
15582004
15411960
18235853
18199963
20788656
19790055
18283948
20980209
17652172
15470153
16441976
20035218
18307286
13369452
14406532
19787044
14807627
20704205
18736738
15784247
19243707
15481806
15820088
18783601
17472272
20596913
19824378
13046581
13488423
18746930
16338045
20941245
17975255
18880089
19219071
19366533
18826336
6390821
20722221
19099942
16379917
15665707
20446955
13613229
16148182
20782196
15047711
18650940
20747657
21025191
16443977
15665935
20055715
19251397
8904656
19412875
16030858
12040113
18788498
18930894
18228031
20634420
18228231
20094965
18866158
12901078
14585335
20744881
19891528
6449713
21056025
21217710
20436494
21179175
18369535
19971039
16453582
20710587
20641847
15009095
17704067
21040297
20187597
16269873
20349970
8775096
20540178
18489417
18841034
19498285
18373584
18690685
19140676
18690750
19887231
18726297
15067247
13299410
17167601
20706899
17300316
18690295
16447567
16265428
20872950
17169007
19885345
18840936
20590425
20873112
19020833
18820537
21039321
17952482
17222935
19918817
19444974
16381424
19885281
13675884
19428084
17347651
15020493
17364530
13249923
19951769
19714620
19625919
18565840
18726639
19411593
15773147
16540349
21148820
12336008
18431451
18878876
15020152
20436407
17547347
6914155
20556483
18383025
20308977
18055117
18923308
16532241
9002927
18841072
15236777
17300501
17463797
18880325
16929727
19927772
20269422
15267916
19870703
19330870
17642283
19296971
18690545
20918764
20034279
20215166
17543635
20034699
19132074
15757141
21107262
19373388
20732065
18672367
19115873
20687552
20615859
20785776
15710997
15854065
20421944
15067484
21139997
18878402
18491439
16453657
19520430
20759226
20440758
19620966
13578425
12343708
15852298
20816618
14918329
18159981
16573278
16731118
19324968
20554245
14934511
18440681
10743879
20438938
17063804
9494098
19783159
19143984
19749719
17440484
19550157
21175554
9018434
9231509
19785704
17761020
19157248
13698474
18897780
12950332
15929108
16915050
15194685
15342021
19650995
20758965
18766120
18897102
18897397
17078209
16259005
16930462
15521407
18880700
18225319
19830912
14331110
19017513
20862588
16081829
16274814
15193464
18945347
20780354
14470701
20436050
15930433
19618533
16896717
15898784
18879053
16519436
19435725
17223845
21057574
18550644
16013285
17523133
19599031
15085544
16725174
16136972
20401561
20466987
15256830
18942870
15059730
19117781
17075037
16239455
20237145
19564583
14993599
20285405
18605469
17101543
18584891
19123216
15238856
18690620
11470374
15313517
18154901
15517080
17462718
15129654
16922149
17592876
17810176
18193553
20723594
20382369
3605045
17625675
14943350
20137039
16671164
18617774
18368646
17174173
21215451
9477550
21149360
15284907
20496434
15285541
20724750
17889985
19430067
20495133
20884920
18672286
10054194
20325539
15256451
20405654
20404921
18356839
19961776
20305779
18568481
18502913
18207761
21222357
18207633
20842387
11587574
20696908
20811514
14942643
17319951
15189425
20841857
20726585
20880942
19602358
21108706
14786796
17036313
21040889
19583820
18362678
21119782
15068710
20117880
17436077
15411577
17938180
18837576
15433453
20763306
21067311
17909363
19672748
18283846
9809631
16276850
19177159
1198779
19824791
1376425
17973231
14319414
19720812
15227776
5781926
19141729
17037270
10254205
12087811
18134498
14315662
11972989
18690288
19133703
20940749
19486334
18672885
1749473
14790081
19065830
21054490
19081593
3467633
20884181
17508585
20998070
18557368
18508181
18704249
20454661
19081087
16344877
19490461
21162111
14463226
19653917
1009275
18714825
16425613
20324947
19636811
15671680
18438986
14704252
19309417
8888378
16497081
19488400
20979190
18194203
18193552
15227977
15326552
20814727
14588643
17832598
17045948
18209134
19241264
17553435
16943329
7083889
20928823
19570965
19699256
13063236
16453322
14947188
18584402
18584689
18207334
18490201
14914016
18584041
17093438
20648678
20026196
12128290
20286788
19489369
18518371
15131365
18197896
4358790
18517493
20057330
18527992
20417844
20647029
12405534
14404369
19330844
16484929
16894082
19777573
20056038
19007419
14789788
18647116
19672006
19160270
20612618
15254173
17560124
15221390
21150550
15376003
15434732
20431834
20726260
15581676
20611504
21039322
19328724
19593942
18772750
16266227
18774656
16188636
9615932
15498722
19183472
17920651
7716034
16120067
21000720
18376729
20607519
17264839
20967455
19622535
20967261
19182691
15235199
16983905
18874371
7561220
18635413
17940636
17268897
16810221
19769905
19005408
18792346
15499116
18005582
19676676
15498967
7732851
20946797
17153135
13466700
15498193
15124883
17249161
15498000
19839113
18674619
16086871
17942714
19346500
15626546
19623990
17806559
2050034
20623206
15068390
20212582
15559436
7449388
17789443
16312885
18447531
21227973
15738758
1582688
17139798
19015741
12871137
17939305
12931313
20888349
18276993
15769929
17802176
15672225
18485290
14311859
18600221
18974032
18472852
16013973
15222071
19734101
18141101
15916518
20623243
15376050
18275579
19014867
15342774
15129089
14605670
18324409
13278130
15850186
7346760
6370235
18946874
18586421
16507969
5871900
14768122
15493003
12489909
12522565
19830215
18175131
15569507
10637535
18488815
19779706
15902263
20171412
17157998
17403733
20456058
19096176
15404685
16288982
18238531
20810636
19018404
17959491
21039469
17271128
18760070
19437268
21022858
15124436
21038943
17844037
21055294
17008347
17156164
20285047
18154910
19679007
17139006
20645105
17367804
15123918
19229464
18104950
20067610
15605948
17237070
5047340
17810550
20300683
16040760
16040427
21165784
20953959
21075425
21217738
19810818
20192395
21188020
21204503
21200929
19084978
21165104
21078903
21025142
20992963
20661430
21163562
20476550
21189089
20066750
18414034
21162042
20947073
21067520
14287125
19830978
21304570
24186330
24328144
24193805
24391673
22718195
23624420
16226608
23375989
211921
22651814
24372774
22768569
24372384
21551519
24373073
23969943
24347267
23339462
16124247
24324506
24312147
23061420
23004350
24370437
23809314
22192469
22728196
23715966
21244679
24314218
23624928
18647089
23429071
21530359
7092144
24243820
23700221
24031632
21715371
18656728
21344653
23057032
23567927
23692889
24219094
21935818
22013980
475988
21784164
21788077
23567704
23163078
24035277
22013981
18834586
22263420
21470225
20052824
24329312
24332584
24330704
22120780
22121936
22121494
22120323
22525541
22120097
21788082
24160107
22432082
19484144
21788079
22957253
24354057
21961507
23457159
22360028
21173783
22308544
22147894
22697347
23367809
23130675
22193525
22192478
21153312
20448888
22165551
22031832
24051948
22147121
22387223
23799625
18623896
21185484
22187528
23308979
23252458
9312062
24401790
22001204
22447373
23057830
22264713
24330080
22122444
22122885
22119400
19962119
22120529
22264322
24138208
21788076
24242745
24267258
24101737
24043826
22064721
15832498
12419717
21715658
24161800
24330067
24329311
23155348
22847316
21436847
23155809
22847606
24330706
2256444
21979329
21981146
22206507
22583694
22385556
22432623
22431219
22161060
22430552
21377081
22433219
22431805
22208271
22204474
22204304
22583084
22628524
23960786
22208498
23057732
23417654
21812988
22163249
21862176
21861361
20817501
21836880
21861961
22345226
22373720
21815633
24174453
21788784
22205830
21548729
21519079
16243775
23562367
21677674
22373897
22232435
21563897
21344533
21385965
23923682
607884
21861781
21678120
21798943
24244145
22292276
24283300
23544021
23044569
22164238
21636688
24307176
8865
21552573
7309178
21438274
22328969
22384378
21576714
23633102
23190235
19405420
21862054
24056510
22433201
22203536
22161568
22205160
19041473
23627835
22432604
21264809
21877613
22203735
22582627
22161794
22207711
15545567
21681588
23961269
22583395
22207016
22384609
22432115
22206255
22206820
22201808
23565894
21565906
21305991
22204143
23147024
20240991
23272728
23322393
18842481
23731003
16072772
21633293
21238643
21409374
23781901
23209286
22246454
23163481
22147945
23287026
23287606
23287810
23286849
23288976
23289153
23287239
23288046
23302147
23394295
23390582
22355183
10033554
23301918
23825170
23303317
21484031
23396920
21969076
22668869
21632673
23288548
21676574
21726153
23140272
23302652
21727379
23305941
21711482
14753927
23307800
23302890
23303824
23303561
23286634
23287423
23291244
23307091
23304000
23393395
21726877
23394077
23308772
23303125
22142899
21241128
21381823
21837174
21836859
21528608
23304240
23392249
23392752
23291642
23288770
23288277
23393798
23396718
22159528
19222305
20194022
21800127
22828664
23057868
23123973
23145206
23164378
22160343
22159379
22158450
13169403
22142128
22146517
22142316
24020722
23393589
21726280
21727511
21727250
22355484
23285807
22159199
23141265
23289378
21901787
23302453
23162378
23392493
21238984
21459302
22937896
21581274
23301647
23291449
23391902
23396057
23396475
23308573
22142521
22160022
23291770
22141510
22246843
22934377
19940377
18868165
19209396
22356022
23290725
22146342
23390848
23306244
23307580
22159755
22158723
18975942
23391460
23393082
23301347
23306611
19722653
22147541
20812122
23630804
23626197
23172356
23548239
22187061
22165210
22267389
22355436
22308789
23502271
4150640
21280012
23212454
22630723
24241163
23558992
22231464
23088694
23561310
23559548
21280057
22015437
11970722
23541823
21320358
23401811
21502692
23592161
23088453
21312933
21313230
23562006
23564179
23827867
21785388
23252361
22352237
24380855
23848033
21325502
23662631
21690354
14439713
24277032
21513775
21829283
23959114
21681614
16260305
21383446
23561827
24232976
21597619
21426462
14196181
21690598
20027390
23956989
23898302
23614793
20023851
21794490
21806930
22372764
24296267
21623921
23487191
23957946
24113222
23647137
21440813
18138472
19396558
19397074
24310232
18043990
21642930
23594420
17396467
24315639
15411537
23770010
22750635
19759879
21178513
23056994
24231732
23400234
22719153
23981683
21949820
21765379
23311123
19737613
22372179
15203562
19951178
23767232
21309756
18719201
20947820
23251910
21253564
21597878
24224488
23316169
21635255
21669097
21414884
21597670
21770994
23981374
21426587
23662326
21371844
23431914
21198412
23981561
20997108
22200077
21350397
23745626
23744498
23305456
23903888
23737707
23753345
23716020
23749841
23070890
23752336
23745811
21679585
22435979
22627055
23304072
22030644
24300918
22627141
19223966
7031119
21697785
16238114
21237147
24302130
9361705
23744547
22745898
23743618
22730888
21574183
24300650
22402260
19893604
23304141
21796325
21498863
5822827
4759349
17940615
23741630
21527161
16106584
22714438
23394062
22584746
21312401
22585323
23287047
21682805
22164858
22242630
23752515
21678571
21711401
22228885
23872062
22322123
23787959
22955155
22846729
23918171
22788158
24347269
6200741
22228550
21693386
15288004
24218721
18956699
22987717
22083423
22031411
24347078
21596226
23883271
21448761
23743908
21090146
22718029
22144960
22032913
22175736
22150316
21498966
8831050
21498969
22652823
24201414
22617711
21567155
23304442
23520944
21498860
24398088
22583276
22408657
9970895
20395035
21214295
23629701
23677672
21643899
15870509
23748545
21498971
21361200
21498861
20226352
22398817
24035495
21641017
23304518
22386408
22599383
21548957
23612622
24106823
23745137
23897752
22746375
23765495
22511991
22627198
22681324
24346826
22772721
23487748
23012942
23310953
21829139
22151224
14901407
22278795
21753302
23022014
21642295
23188505
23397789
24378766
22164451
21679902
17778115
21897391
23036258
15548670
23165210
23304679
23686796
22614341
23180341
21562776
17381566
23350934
22248682
21515803
22227556
23015741
21547937
23577116
24080619
23308906
21563175
23124049
22526170
23126985
23303687
22652684
24155772
22652403
22652068
24155126
22164446
15462047
22163474
23123033
23800657
22627274
23303762
17902694
23303486
23303592
22627345
21648590
22628484
22159020
23021906
23074803
22766812
22121091
22858066
18213439
24246801
24080395
22164030
24324809
23687280
22181132
17587766
23017803
24094681
23687980
22673646
23506097
23995272
17107742
23170412
23841028
21486679
23017535
18368415
21924428
23250950
20709259
22729063
21950592
21325417
21935137
21924323
19084632
21310535
21935101
23253112
24139621
23871901
23562641
18174156
24336881
24262824
22352998
21239746
21674132
21240095
21342231
21383162
21901616
21165036
22727496
21239976
22293815
23817571
23556437
21784273
23904226
22769383
22030033
24168312
23021955
22889839
23257183
1429121
19225442
1776068
5359697
24326342
22627396
23219872
21674431
21673781
21674283
22861115
23749221
23022013
22386926
23074644
21643081
22278098
22811650
21745897
23586683
23895601
21460989
22897065
21941640
23893092
22107422
23892425
24077827
24078031
21554511
22493812
22107268
24334685
22107267
23893801
22883563
22883779
21804259
23948295
24299162
23046154
23114689
23289060
24077632
13888098
24219045
23258400
23681506
22988338
21733394
21559343
21771037
23476850
19457770
24140169
24409076
23090526
19658035
23897625
22327141
23190483
23714705
23064117
19820050
21408163
23853281
22889428
22327142
21646304
23817035
23483793
23714600
22525268
22306356
24267388
18515318
23592492
23591912
24077385
22210876
22889640
22889733
21039932
23544304
22327139
22099733
22889540
12344142
24397404
19457647
22731313
23592621
22384510
22041148
20137158
23004674
23890893
24077189
24338021
24180113
22940115
18223085
21829663
22881856
22291813
23827266
21987098
21244726
21736914
23127556
22765330
23516161
17607186
21248343
21931780
22101483
24114731
19624110
23872975
15528667
23005875
21346776
21707195
21445242
23624354
23015362
21449127
23465858
21536254
22929418
22889232
13091712
21713961
21964014
23856770
21925988
21824448
22207143
24379771
24016482
22142945
21409887
24022545
21724505
22012412
23566414
22015029
23320808
21738629
23841523
21767299
22146737
21766903
21767674
21766695
21768555
21768027
21768382
22276800
23321493
21724482
21865615
23188236
19507998
23237445
20635082
23034030
13670675
7582224
23912131
22209690
23899229
22015210
21768208
21763161
21385601
23750596
21701419
5422545
11489218
9971676
14299184
23761996
23321077
21787784
9991733
23289684
9541357
24054514
23287586
11488759
9494772
21835563
24187208
23287236
11489064
24152944
23514767
21767071
24247891
18925610
23188970
21899053
12829241
23390245
23566139
23128943
22276253
24059457
15038032
21266714
13670860
23487060
5145452
8774600
24267570
13091074
23243094
21369962
23417686
22371361
23712439
21490776
21818022
21277091
21174446
21563331
24247045
21592508
1055627
21405795
22353662
23628919
22512206
23916911
21833837
19008735
21652232
22534965
18187229
20954968
21305243
21827688
23130922
22353834
21973435
21828356
21406135
23180367
21297120
21828547
21827914
22438142
21445137
23212871
441014
18757699
22888718
21828056
22883590
21764953
1584340
15073943
24325336
24209961
21828281
21280164
21382177
18139067
23563583
21354236
23882587
24186399
23310927
24372707
23746557
23123180
22385541
21240913
23124838
6544267
22384885
23398832
22320830
21370018
23219663
14994014
22100284
22668856
21353955
22119242
22106488
22323718
15844973
24251519
23818924
21861736
22385862
23818901
21548228
23121785
21438537
23748607
22016719
21518134
21628970
21486812
24336400
22128402
22354841
23626006
22245255
21725977
21726558
22027267
24203351
24172039
24171367
24171313
24171455
21978432
22385941
21524811
21483155
21677482
23122616
22824621
19661284
13335063
22359710
19908092
21240348
15841355
19909119
23882402
23944386
651622
22528941
24251449
24154550
24100500
23311631
22027030
13545797
23822858
22227724
23632539
23749358
22014689
22668849
22529745
22668820
24052274
20968661
22668842
22291001
21843360
22668827
23151781
22532117
23236419
22360112
21859346
21727032
22547331
23502542
22121305
21438702
22175348
24172008
24171953
21238967
23356336
21526646
19009915
1814201
17569154
24329702
14417315
24153698
22526946
23827045
20787717
21790256
21487043
21583363
23039466
21693944
21727144
9827
15295831
21944393
22014247
24395165
23686488
21428068
24252342
22275894
21661646
23268208
21473721
22210612
21724291
21514350
22275135
23651852
23947028
21944230
23916209
24335151
23412602
23540441
23524596
23308681
23525184
23525914
23542947
23418172
23340231
23504160
24373357
22653979
22262801
21663044
21662561
21514830
24307072
23032694
23500329
23467213
21797544
23340501
19996537
23704535
23527204
23455311
23411464
22653785
22651826
22653525
22352182
24326097
23853780
23412729
23452923
23541785
23375920
23339974
23502085
23324045
23972432
21907057
23498826
22351563
23277339
23393316
23377656
22261808
22260527
23466425
22810330
24372360
21796741
21795660
23275623
22653199
8335210
24373209
24324101
22667849
22667973
23396093
24408512
22638041
23413937
23324614
24187177
23562852
17042433
15154240
23191094
21055241
23979012
23305002
22233079
23420727
22532803
23214991
23304766
7051042
22009604
5813177
21296957
23535799
24209643
23921580
22344277
21796886
21784812
24323074
24326482
21784442
21783865
21796006
21795492
21795848
22147148
21782918
21785002
21796547
11219948
21784630
22664808
21797279
23293297
21943599
22649853
23503374
21794989
21795314
12899658
23526592
24324307
22103582
22744422
21662807
24233687
22014146
22013974
22671354
22938174
22096240
21662744
24323872
22066746
22013869
20971424
20548300
22687587
21662298
23358572
23322808
22824659
24326495
23525337
22375782
23304928
21445050
21797100
21797738
21783476
16189885
21463290
7075050
22365345
21849276
22879028
21784052
21783680
11706013
21797895
22869674
21866446
23398020
22302860
23505076
19068608
23339587
23487192
23310638
22353756
23327474
21439599
21176229
23580616
24035810
22242923
22013637
21865968
24323678
22690779
22654177
23321961
23113252
22938098
23454978
21707626
22809274
23379361
23275119
22014038
21944075
22065274
23397346
13752133
1766985
21587715
6342931
22886713
22840213
21683907
23232204
23131706
23400254
23078707
23854425
3168897
22362487
12023820
24335695
22344511
23204313
24103950
23937092
21662844
22359577
22368905
22358760
22378424
23390329
22601573
23955860
22484653
14935978
21576187
22162451
24403132
22517179
22636721
21596829
21546827
21845421
21498151
21737922
21838288
19137129
21725148
22252457
22569650
23528849
6066786
23200356
21393613
15726715
20547874
24397626
21379122
23962219
23304103
21238858
24152419
143842
22517604
21654914
22581254
21439352
23117946
24249335
22132037
22517782
21817988
23103243
23762697
21324982
23016377
23840136
23797507
21378036
21058704
22229847
22407761
22357836
24248639
22692343
16065865
12265127
21410674
21484100
19872750
23838806
23839637
23838433
20601153
21241180
14081071
21623737
21536088
22154367
21445237
22729849
21624391
23761335
21547645
22084682
13309117
4191592
22639181
21612082
22811301
23396164
21663547
21264930
23892862
24370874
21546411
22369465
21454212
21648941
24154346
21838660
24128226
22231567
23805314
24313446
24138157
23687506
16755558
23999502
23579975
24016169
20441774
22896721
21210513
22981723
23465746
22814137
23544584
23311167
22944278
22981769
23054149
6473970
21952800
22859515
23027286
23027875
15005881
22485102
23149016
21683291
21477647
16583728
21924790
21202826
21953265
23293175
2807040
15723073
21484706
21381927
23627923
21839232
22389994
23633083
23470168
23669430
22345235
22571244
24352165
21729205
23805779
23668146
23747775
21765587
22251665
22810966
24152390
20731975
23576958
21740829
22354274
22828268
21583773
21826608
23948205
21896268
23019378
23152798
23359214
23285835
23666880
22192442
23592485
21800425
22814686
22060187
24087726
16892293
21342930
22814449
20666495
21925608
24139790
21244020
22291199
23596658
23596922
23746513
5192748
22410139
21826460
21824260
21698478
23780136
22391236
23290200
24369578
23356775
21310306
23597271
22730544
23790542
15194551
22018975
23088339
23151616
22650917
23965448
23628377
22794472
21550485
21140575
23358779
23808475
23076355
24085880
21824635
24080196
21619184
23567578
23147845
17642882
21459629
22570371
21212283
23414294
22160888
23738222
24079621
24119276
21799918
21802497
22362837
22025847
21817254
21667214
13705048
22336972
20655696
21738829
21826196
23631565
22627307
13866351
22224252
23924118
23289953
22526346
21769647
23523539
24350198
23516583
22563395
21414431
21824859
22713966
23791827
24090510
23420771
22808153
7133949
21770176
23250896
15561714
21810002
23518451
21526116
19210946
21575233
23338692
23476962
21413584
24184602
22081895
21544687
23062683
24128199
21421204
23337297
21933807
24119260
21753900
21828270
23566296
21851664
24035179
24077144
23269064
21063622
21728531
21454153
22233952
24137385
23267593
23251400
19795843
22889560
23268766
23269316
23265013
23265769
23252164
23273695
23273179
23270557
23272526
23273526
24075963
23270969
23270802
23272027
22273710
23272365
21596729
23253472
23960087
23252462
23020222
23348853
23020971
21798091
21190750
22267104
22076918
22322143
23661462
23526125
21267272
24209126
23647976
21802699
15659261
23566151
18121398
20910961
21884763
21449179
21632560
21983126
24095243
22306805
18718331
23544545
23268062
23322241
20600126
21472825
23272168
23273311
23271633
23271813
22638665
23271221
23273830
24121557
23274657
21829390
19459179
24033209
22266772
23265459
21581412
23493571
12333470
21848299
23722893
23269997
23741503
23088793
9216838
21891473
22925456
21934940
20744849
21861347
21859334
21711473
21996594
22012439
22446048
21423860
21684930
16515215
23730643
22084764
21176562
21850219
18544883
21458043
23523865
22014195
24208804
24259447
15010440
22435879
22439554
21861625
21862945
21862625
21411264
21333874
21648557
21521651
21947020
22499352
23053917
22430862
17285247
22446503
23981743
21436675
22084812
21679735
21694590
21591521
21334193
24398052
21735562
21380476
21756325
22899427
18213937
21712033
23001243
21294177
23325891
21429119
23001050
14992370
22747037
15974807
23651348
20333585
15624533
13406832
21326585
15412846
23290434
22090413
21765534
21935939
17942378
21434342
24392303
23728792
23000887
21505991
24131246
16835622
22926442
21281205
22794162
21862450
21261367
21838021
21849098
21708880
10367015
22845323
22606958
21800165
22593243
23304925
22447995
22447999
22231260
22695749
21711766
21784818
21860965
24351979
21380600
19103623
23001550
22447790
21412569
23000230
21447482
6588624
23435782
11867402
23478352
15338378
23642384
17104429
21981337
2621323
15422637
13020774
22849200
6345175
12784235
18360675
23528402
21695158
18869255
13605997
17609024
20232445
12866857
21488562
20166435
12306678
16289640
16407825
18929249
21455108
12039292
15815367
23634747
21331436
15919787
21228020
16190037
13260611
12942419
2093962
20720470
19156140
2621195
17416345
12052204
18214524
20261439
23070747
23425715
22064516
18947935
17405769
19045017
18977393
12934469
18963420
2615020
13389099
6717460
8720716
23352236
15634804
19747896
19523755
10570895
9039894
14918871
15053251
19842809
18766856
22176786
13874300
17481948
23650138
21849289
24355149
17192456
20494559
18042114
18409196
24163439
15523233
16546256
23872769
23937877
15846372
19097773
12355344
20074456
21471996
19766859
22104110
22633704
18485888
4448828
9994597
24333255
10271037
18477590
18824085
10289915
9529225
7179549
22225098
23001922
19910317
14895809
15899461
17155759
7854428
23980606
17028509
962531
17048564
22735601
4663477
14181217
20882350
15319026
18044877
9024470
10423805
9545482
18810203
19512762
22353790
24227004
9303589
21303354
22046207
24371228
12932244
21621367
11149097
12542310
9684299
16717167
14491451
15142564
17071858
20819511
12316683
9031165
20677076
21428892
12116107
12308787
18749370
8473153
21643502
17402020
24242633
1167970
15068575
16674627
13478750
17765494
12954060
20424850
18806475
14015423
7147570
18917534
8718194
18110822
18207529
19532600
11902657
21463016
20724895
20881712
12083522
9096902
13405868
4244593
23103901
21735141
12184793
12963208
22668880
19922082
22145262
7539864
23904700
18158937
18187089
9064483
13749475
11507951
18309643
22377492
14950341
18751662
18518244
9683285
20125568
18391056
16843178
6212896
18757757
15026113
6450220
22865153
15324620
16308703
8732457
10122428
15521925
15884321
15835734
10754866
16559439
19248273
19797576
23605507
11701080
24033358
18346274
12273768
7712230
17096804
13845214
5089193
20772091
18569947
18158484
18569322
22926696
6425797
6433862
22732336
12342638
15189028
22429867
18295772
23257882
20635714
15455606
20705927
15423085
19855776
17649562
19329512
13600523
19719358
21024071
24331923
9854492
18996345
18775371
11183674
21433346
22752124
13778917
23643105
13590850
18757647
13655518
18906818
9546032
21355877
18136192
17569303
23150466
18457612
20122135
13174739
22085056
9633765
23665674
18636246
14088030
4892417
20165970
2263295
20548293
7910194
9145371
21692050
11322020
19679163
11322297
24288475
18781610
15852367
20332508
21339973
20494244
22104109
13656669
22281710
9092236
9927468
13154520
18326413
19028927
12080362
22733421
11982714
20983162
6449061
23997968
16073098
18460050
23771997
16692101
22035289
17362290
21979952
19912737
10012319
16133980
12052533
13369751
913081
1644730
5036522
16496836
22823926
20726246
16790754
21997399
20745288
13998743
19149341
15280378
16976580
20424193
9943631
18955895
19376822
8721723
15989122
24159978
22926592
3332286
18569923
15853768
12510459
19732391
20975931
16242332
20934161
20319363
16896069
18849169
22400404
16720961
11155316
11085730
19379842
19130790
11344590
16361055
16390012
6540673
24102717
23273882
9092916
11282859
16463009
21991096
16204597
9788109
21662139
9182871
19384715
21726862
17514484
21439423
20231348
11729881
15676401
18310032
8799065
21440256
23647252
19982785
23019288
19519164
18565146
13099511
18448275
18112286
21735490
24226280
18305512
14964407
14840497
20424507
20547741
16338380
18212328
15846295
16242908
18133438
6121094
22174803
20933663
13316356
3209098
10928493
14490684
18295615
18295290
21023983
22511057
8368972
1168079
15802157
15026381
2919338
24178915
19347381
23626671
24698814
19265328
19266513
19258234
24724126
24685384
19591151
24775530
24604404
24516904
24515883
24513062
19083352
24731145
24966141
24868058
24310492
24729903
24733867
25123882
24773337
25036684
24556217
14566378
25054953
14067531
24715345
25043008
24265005
15530349
23525387
24845439
24492850
24474156
24945022
24716121
24517534
24517973
23253117
24512159
24464925
24465886
20154769
24768490
24467263
24466743
24633212
24478243
24645479
24826742
21566074
24649082
24647800
24470076
24467656
24648787
25032876
24469518
25126538
24465270
24626307
25114970
24756096
25100807
24422495
24657777
25071565
23870750
21445568
24790275
25132534
24469219
25012054
24542123
24396040
24918546
24835734
20235302
25001145
24918551
24470246
6800522
18526885
24918538
20307561
24918554
23810462
18886077
24477053
24345658
21604166
24749244
24817963
24477391
24598613
24649475
24963651
3371742
24825394
24464154
24692083
22164240
24888080
24221823
24808907
24499346
10988226
24608314
24649966
24370285
21964456
24244491
24966344
24912611
24985370
25010337
158745
15509837
24489960
23022301
20118368
22903205
24965806
25079379
24243652
24649250
25013220
18624885
22105624
24300286
18829493
24855865
24896294
24809947
24939830
24801839
24944930
24798981
23327519
24855960
24855703
24770791
19296973
24799020
4525875
24161442
24628253
13333573
5559098
25085955
1544144
24914428
24746941
24484501
24992422
24626252
24626250
24623340
24563107
24540681
24161279
24626249
24865433
24961014
24623314
24540981
24770058
24623322
24623318
24736163
24158645
24696205
24885249
24844369
24853642
19589175
21426396
25066653
24827131
24605199
24592772
24377640
24518213
24944280
24945296
24770340
24956556
24945336
24856678
24945374
24846668
25047997
24909410
24541110
24935629
25077703
24008757
24983583
21906430
24945415
24518149
24940510
24944512
24518974
24431439
24808623
24693778
24720095
24888931
24910827
24700355
24887948
24852882
24475768
24538723
24983782
18854379
25016258
24847271
24738128
24444256
24699317
25107932
23612638
17618116
24888991
24939204
24700956
24807814
24729041
24969609
13907214
25079212
25083025
24871006
24783627
24749130
24969883
25055878
25057461
25055618
24809758
25141123
14805436
24550574
25048132
24345604
24894512
24971621
24644312
21515982
16599324
24768622
24412927
15132080
24598890
4755586
24829523
22769607
25084506
24603311
24715104
25002829
24773801
24806535
24940276
24940413
24614804
24798737
24471826
24796993
24996077
24783227
19768771
24523214
25003001
24774046
24827320
24452188
24774011
24471492
24554124
24538222
24969391
24748054
24728136
24501001
24554520
24940427
24754028
24515565
24796281
23414242
24940375
24940322
24605093
24609354
24756613
24615914
24446758
25025114
24619475
24619508
24230776
25017063
20598361
24697247
24449963
24694003
20496820
24473093
23268413
24598387
24808268
25071603
24519669
24672034
24825705
24773332
25096340
24519241
24539750
24847888
24519535
24471016
24347909
24801878
24411702
24875112
24471507
23520351
24719199
24540166
24378350
24781901
24557444
18585053
25106621
24602567
24827605
24793868
24487339
24481476
25137625
24352396
25027033
24600323
22794188
24756731
25087750
24829030
24784931
24785718
24756185
20331581
24908237
24741673
24709494
25013408
8101338
18521714
23924772
24984291
24492828
24755844
22159455
25085165
25071196
24715221
24846778
24828369
24969180
21827162
24755849
25031001
24433891
25013938
19694915
25080563
24575663
24559968
24758139
24116097
24747096
24749446
25002455
24886610
25141425
24920796
24755974
24449882
24687240
24630792
13187057
24541409
24718212
24718230
25130994
24430207
24776981
24494546
24968612
12482459
24556734
15845448
5280970
24755811
15529920
15846253
24910356
25036068
24600991
24826499
25134949
25013762
24848138
24557881
26777584
26170365
26782999
170715
4387413
4431109
4968435
5641571
5898709
7645153
7750253
12197486
14948523
15368927
15706521
15714436
15723015
15821724
16702732
16778584
17028382
17907821
18073084
18790012
19115310
19403029
19427825
19698396
19721033
19904852
20694962
20931766
21024854
21408454
21488333
21495950
21580648
21742628
21801133
21815046
21883060
21933597
21979174
22013722
22162414
22202325
22203928
22207950
22240424
22279964
22350678
22650269
22764995
22849110
22886807
23148418
23252699
23266216
23268595
23285785
23327840
23359057
23369913
23740793
24160306
24331243
24475405
24540449
24559904
24599025
24600107
24606768
24668343
24713895
24726236
24804797
24827153
24830727
24862997
24905471
24913828
24914199
24914320
24914518
24916564
24916747
24916818
24916959
24917065
25055233
25114259
25139591
25158106
25161562
25162374
25163756
25168181
25179090
25180287
25212094
25220576
25227631
25231332
25231740
25234494
25235547
25236619
25237637
25252742
25253044
25265449
25266010
25270112
25275104
25281050
25283031
25284439
25284444
25284869
25290431
25296266
25321503
25321725
25323155
25324358
25325421
25326962
25328440
25338990
25339965
25340762
25343667
25344299
25344305
25346601
25346681
25347070
25350460
25353893
25354285
25372999
25373007
25374033
25374514
25374526
25374549
25376081
25377418
25382635
25382895
25416313
25422664
25428146
25429344
25430430
25430890
25445057
25445876
25449572
25449582
25449773
25451239
25453100
25456179
25458467
25466363
25467844
25468495
25475789
25476466
25480719
25482794
25483929
25484272
25486049
25511794
25516679
25520363
25546104
25547580
25549750
25571479
25575403
25576444
25585713
25591497
25612002
25612878
25641064
25662804
25663378
25663862
25665352
25673381
25677018
25679411
25680105
25680611
25682559
25685135
25685344
25687894
25688143
25706990
25725410
25726988
25735321
25740176
25741105
25745990
25747022
25748121
25748353
25767511
25770647
25775084
25777100
25784334
25785557
25787225
25787914
25792753
25798930
25804129
25805291
25808321
25809288
25812148
25813086
25814695
25817486
25834408
25837184
25842231
25845718
25859073
25859595
25859829
25867741
25867879
25868443
25870708
25870859
25871006
25904410
25905868
25910396
25913476
25913742
25913993
25914231
25914450
25914637
25916566
25918074
25933888
25936605
25938300
25943137
25944746
25944980
25947332
25947387
25947888
25949335
25953447
25959467
25973976
25978041
25978926
26000552
26003048
26005227
26007239
26008435
26009228
26012594
26014681
26025894
26028955
26031821
26036040
26037007
26038867
26051186
26052117
26052303
26060933
26061152
26062023
26063134
26064461
26065119
26066073
26066238
26074516
26081563
26093476
26095748
26100318
26105738
26107101
26111608
26112347
26122149
26127318
26127411
26130049
26132027
26132457
26135731
26138090
26138283
26151604
26157305
26160905
26169129
26169363
26169509
26171443
26178892
26193795
26200803
26201537
26207713
26214081
26217206
26223565
26225149
26225827
26226398
26227047
26235532
26246423
26247889
26248583
26252951
26255061
26257491
26257794
26258927
26260781
26270400
26270615
26271144
26271272
26271388
26278974
26279081
26280370
26280467
26280557
26280706
26294544
26295538
26297529
26299440
26300286
26322169
26323473
26327865
26328616
26329706
26332389
26333739
26335995
26337283
26337343
26352727
26360101
26363898
26365625
26366385
26366570
26367912
26369295
26369732
26393519
26393530
26395595
26415267
26416556
26419561
26423316
26444145
26446700
26448065
26448893
26450604
26450605
26450608
26450614
26450779
26450780
26450789
26450795
26450815
26450816
26451409
26452180
26452339
26452827
26452903
26453232
26455210
26459182
26464971
26467670
26470372
26471620
26472055
26472289
26472715
26473739
26473862
26473945
26474885
26475256
26475339
26498642
26501160
26501358
26501668
26501820
26502776
26523169
26524603
26528093
26528105
26528362
26528944
26532751
26559518
26560558
26562092
26562415
26563661
26566402
26567600
26594541
26601545
26625158
26627987
26631027
26631986
26637229
26639008
26640934
26655662
26656189
26668364
26670371
26685504
26686533
26689631
26706711
26719776
26719839
26720531
26726382
26748918
26750505
26753582
26753806
26756614
26759283
26772307
26774547
26775922
26777595
26778454
26781465
26782638
26783190
26784010
26784242
26786129
26786953
26787311
26787436
26787836
26788262
26810748
26811488
26813765
26816129
26816267
26816448
26816662
26816904
26819818
26828892
26832145
26832651
26834482
26835422
26835473
26841132
26842959
26846166
26872482
26872766
26874729
26878627
26879063
26880858
26885536
26891579
26891762
26893347
26893801
26894212
26894540
26895047
26909859
26917042
26921135
26922182
26925363
26935855
26942972
26943791
26944320
26948219
26957838
26958951
26965177
26978469
26993230
26995516
26997440
26999973
27018956
27020559
27022651
26529198
18624667
26858288
26765130
26520394
24209180
26706484
26528113
26806158
25430046
26816586
26656601
26777332
26892773
26957924
26490821
26555459
26994260
25247893
15797206
26256996
26529919
26630612
15805673
26600998
26471100
26460942
26777110
26567500
26448122
26259428
26272393
15021847
307571
511992
743759
1143345
1167987
2323787
2526986
2816133
2943438
3325306
3991862
4135172
4343259
4523234
4566095
5832382
7010632
7036381
7982937
8563817
9616816
10135564
10136459
10138258
10524872
10575430
11871190
12211874
12336281
12898177
13057265
13166405
13173362
13588854
13650313
13657486
13972298
14253538
14485918
14927372
15799850
16158151
16159110
16211849
16275852
17006890
17042710
17104147
17585989
17634084
17666410
17669073
17690222
17849739
17907229
18035633
18370244
18501631
18516303
18668081
18785113
19291138
19650444
19801241
19817729
19946681
20230196
20235491
20694378
20996280
21006936
21096288
21141934
21350925
21444743
21471048
21701532
21779767
21781068
21789235
21799387
21800554
21815325
22087346
22525315
22530658
22531126
22533216
22584985
22588076
22612107
22629502
22920165
23022188
23127262
23128151
23166408
23171291
23234070
23375776
23380501
23380964
23483066
23500537
23642565
23739621
23842606
23947734
23965606
23987184
24032465
24034961
24041561
24063318
24117769
24232126
24324950
24369910
24406709
24453629
24476477
24519734
24560253
24632540
24913891
24916335
24916375
24938922
24965808
25235632
25293765
25308568
25335040
25390399
25405673
25491688
25502190
25517511
25636752
25714321
25741467
25915628
25974863
26025228
26032350
26068228
26130154
26133446
26169618
26200016
26268482
26269347
26270800
26302928
26328815
26361101
26362654
26363458
26364189
26418311
26429376
26463536
26590162
26683948
26702700
26778714
26847026
26849307
26849309
26868598
26895576
26917024
26946488
26987642
26987799
27023204
27046444
27055199
27056786
27057935
27059418
27059897
27074605
27074857
27074872
27076618
27082052
27089727
27092185
27099104
27100236
27104136
27107778
27111557
27112752
27125054
27125703
27126754
27127382
27128200
27129933
27130808
27131795
27132464
27133152
27134793
27136448
27137119
27137520
27140809
27141604
27150829
27152264
27155304
27155460
27158560
27159656
27163910
27168524
27172096
27172618
27174044
27192659
27197821
27203329
27204355
27221105
27233768
27233778
27236306
27247231
27254966
27255533
27255853
27256454
27258229
27261969
27283837
27288026
27289117
27289356
27289449
27289647
27289809
27305758
27307722
27307950
27308183
27309994
27323777
27338419
27339519
27352590
27360485
27367206
27367782
27370371
27370560
27370693
27371158
27375221
27397485
27399953
27404136
27408065
27408078
27425702
27425739
27426538
27426857
27427389
27428142
27428655
27429577
27430398
27436859
27454767
27456651
27457542
27459736
27459741
27459746
27459750
27460321
27461009
27461431
27461511
27461905
27461993
27462072
27464072
27465360
27466996
27468231
27478102
27479040
27487561
27488020
27488878
27489073
27493611
27494117
27501160
27505116
27505152
27505711
27506356
27507023
27507467
27508351
27508742
27508957
27509499
27509899
27511200
27516676
27520105
27525182
27525597
27527176
27529505
27541652
27543898
27543947
27546348
27549840
27552353
27552775
27554053
27555910
27556735
27557731
27565509
27566384
27568475
27569406
27569623
27570117
27570628
27579388
27580456
27584601
27584770
27590971
27591787
27593871
27595884
27598072
27602176
27603003
27606245
27606782
27607021
27608644
27609912
27611562
27625553
27625757
27626629
27627681
27631936
27634301
27634728
27635128
27635713
27639994
27640582
27652295
27653076
27653956
27654423
27654494
27654495
27654558
27654594
27654712
27657736
27658502
27659017
27672675
27675508
27675875
27678454
27680075
27682924
27697516
27698773
27698940
27705916
27707705
27707727
27718890
27719760
27720457
27721138
27721473
27721562
27721925
27725614
27728537
27729451
27733061
27747782
27755350
27757909
27759959
27762766
27773934
27775640
27778274
27779216
27781793
27782842
27785179
27797809
27801023
27801128
27801644
27802054
27802277
27803195
27804737
27810970
25378100
27608401
460982
27630634
18705205
26942600
27778239
20618464
18790151
25947713
27757364
27727569
26870674
27631179
27680279
19400385
23946
20631576
27630980
27387358
18104601
2701136
27631383
15320355
27327646
27757911
27508923
27757751
13860514
14732499
27757091
14769790
27609217
8751282
27816176
21491807
28466694
27851769
28128163
8328225
26935221
28009413
9458173
27807612
28462016
26638061
26638081
28347357
27927102
28489121
24512089
20738325
1053924
1604168
3136460
6025333
16657458
16706225
18023901
17686031
21239663
21564559
21473358
22937581
23236177
23998642
24115742
24390807
24428903
24915368
24915749
25455523
25568854
25285483
25288510
26360856
26037677
26450601
26104687
26163695
26497761
26529946
27100138
26632411
26268102
26660947
26661682
26662386
26662613
26748319
27310987
27321488
27233115
27341609
27921597
27627607
27922387
27927966
27932933
27934231
27428096
27934413
27635456
27934538
27935696
27936531
27937550
27947765
27950388
27953355
27954309
27956102
27958363
27959855
27661676
27962701
27661692
27966513
27669626
27461594
27967687
27974450
27980934
27988257
27988417
27990313
27990441
27701762
27990984
27991699
27992316
28004389
28010399
28011719
28011742
28011872
28012000
27503398
28012051
28012122
28012245
27734523
28012569
28014386
28014596
28023813
28025180
28027356
28027802
28027835
28030374
28033157
28033271
28044895
28045232
27540474
28048288
28052404
28054656
28060535
27544968
28070780
28073287
27815567
28076902
28078022
27815751
27822358
28091817
27826600
28098220
27827140
28099935
27827788
28103810
27854109
28104387
28108074
27854888
27866464
28122799
27571301
27870743
28125388
27572527
27871112
28126102
27573090
27877259
27576507
28126603
27879644
28136602
27879776
28140121
27893040
28218323
28144790
27895451
28220321
28145109
27897469
28220765
27897782
28151083
27900288
28152246
28226656
28229123
27901577
28154477
28230894
27902607
28155151
28241815
27904046
28155372
28242815
28157015
27904192
28248388
28157472
27905633
28250834
28159002
27906365
28260735
28161172
27919657
28276209
28166033
27920247
28276984
27920433
28173120
28276988
28511293
28280255
28173297
28177160
28516618
28281698
28516712
28181728
28283713
28516851
28183289
28285481
28516930
28286026
28187731
28296635
28192502
28517787
28521921
28298193
28194026
27754296
28300273
28201372
28358127
28205979
28300619
28302081
27872470
28209269
21476775
28303836
28083418
28304380
28218980
28162390
28306371
26638458
28368106
28308166
28157011
28494428
27702986
28314968
28340540
28341349
28341833
28346189
28347221
28347539
28357833
28358098
28358829
28358839
28358942
28360335
28361786
28363649
28364193
28366836
28386199
28386218
28386586
28386734
28388351
28389685
28402577
28412216
28413017
28413181
28415241
28425014
28430063
28431033
28431105
28431399
28431763
28432206
28432746
28433361
28433972
28434787
28435055
28435232
28440873
28444138
28445500
28445984
28450529
28463797
28466835
28467644
28472063
28484648
28486115
28486458
28490348
28492594
28492641
28492650
28492660
28492687
28492715
28492719
28492737
28493790
28494830
28508963
28510014
28510935
1203130
3441982
3082302
7067303
10064803
12170576
13994173
15873871
16287589
18032982
19712164
20496070
21448276
21079675
21744521
21610607
22162098
22461512
23905085
24963670
25747444
26109264
25975436
26013456
26422402
26449229
26693076
26815851
26973935
27286080
27874818
27758422
27781516
27953346
27953352
27953519
27784901
27986065
27483433
28159710
28461967
28487300
28076840
28099312
28101285
28697809
28699693
28716462
28717387
28508609
28717951
28331694
28722439
28332052
28723477
28332361
28332381
28734022
28734984
28337171
28735805
28337464
28735836
28736033
28737497
28737591
28739533
28749495
28343940
28754725
28756042
28517412
28761361
28526385
28770914
28773242
28531225
28775958
28537854
28780605
28541306
28784662
28542233
28785117
28361213
28542980
28785119
28785202
28561917
28361469
28786187
28362917
28565824
28800399
28567283
28801319
28812721
28576067
28382595
28813377
28577657
28383975
28817636
28578655
28826768
28582166
28828565
28583454
28832909
28583748
28833823
28833907
28585417
28834627
28585983
28835283
28391831
28836378
28586005
28586017
28836531
28401069
28836933
28837228
28837436
28410433
28842376
28591210
28843171
28602095
28851743
28855624
28604046
28606039
28858457
28606510
28860173
28414720
28862399
28608411
28863227
28608638
28427969
28864071
28864142
28610562
28866017
28611767
28611810
28867304
28611857
28868366
28612138
28616229
28874947
28880562
28632136
28887381
28632149
28984803
28888588
28890444
28986697
28632986
28987244
28634065
28634067
28894493
28902621
28636244
28910841
28911895
28637727
28912741
28638612
28639363
28989756
28915006
28915403
28917735
28918898
28992318
28639832
28925755
28932949
28640081
28932963
28640732
28936851
29001707
28640771
28939808
29002249
28640787
28641409
29002914
29003230
28643134
29003469
29003641
29003753
28941687
29003823
28658262
28658394
29004900
29005578
29007744
28954103
28958230
28659843
28663014
29009284
29009425
29009521
28963337
28964046
29009549
29010062
28663016
28964603
28965215
28663740
28664575
28965363
28965672
28967211
28967400
29011576
28664576
29011930
28670717
29014832
28671062
29027894
28968832
29029942
28972885
28687266
29030194
29030261
28691218
29030959
29030965
6600980
29035646
29035657
29035765
28973787
28979819
29037205
28980698
28981396
28571952
29038749
29046191
28984581
27395928
28569308
28583967
29049958
29050084
28572319
28761702
29053226
28572389
29053227
15500671
29054806
29057092
29058232
29059620
28763217
28571342
15481725
22842217
28939517
29060136
28990121
29179789
29062086
28736461
19404709
28572173
28990260
29062784
21649708
29135402
28989761
29064530
28571802
29106206
27907172
27654832
29070339
14213983
29072229
28878073
29073222
7838479
29075843
29100246
29129857
29082416
29082684
28990003
29083284
29092786
29107884
29015357
29124829
29126483
29128565
29131076
29134265
29134558
29135827
29146394
29147964
29149944
29153011
29154138
29154656
29156447
29156654
29158192
29158331
29158670
29158771
29158805
29161033
29182155
29182847
29182848
29183074
29183079
29183081
29184396
29184779
29186224
29189657
29122035

    \end{Verbatim}

    \subsection{Engineer and export resulting
dataset}\label{engineer-and-export-resulting-dataset}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}148}]:} \PY{c+c1}{\PYZsh{} group all dataframes from adr change results}
          \PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{n}{all\PYZus{}dfs}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{sort}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}149}]:} \PY{c+c1}{\PYZsh{} engineer dataframe before writing}
          \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}
          \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{date}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{o}{.}\PY{n}{year}\PY{p}{)}
          \PY{n}{year\PYZus{}start} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{date}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{datetime}\PY{o}{.}\PY{n}{date}\PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{year}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
          \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{days\PYZus{}since}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{date} \PY{o}{\PYZhy{}} \PY{n}{year\PYZus{}start}\PY{p}{)}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{days}\PY{p}{)}\PY{p}{)}
          \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{date}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}150}]:} \PY{n}{df}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/price\PYZus{}changes.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}

\usepackage[T1]{fontenc}
% Nicer default font (+ math font) than Computer Modern for most use cases
\usepackage{mathpazo}

% Basic figure setup, for now with no caption control since it's done
% automatically by Pandoc (which extracts ![](path) syntax from Markdown).
\usepackage{graphicx}
% We will generate all images so they have a width \maxwidth. This means
% that they will get their normal width if they fit onto the page, but
% are scaled down if they would overflow the margins.
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
% Set max figure width to be 80% of text width, for now hardcoded.
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
% Ensure that by default, figures have no caption (until we provide a
% proper Figure object with a Caption API and a way to capture that
% in the conversion process - todo).
\usepackage{caption}
\DeclareCaptionLabelFormat{nolabel}{}
\captionsetup{labelformat=nolabel}

\usepackage{adjustbox} % Used to constrain images to a maximum size
\usepackage{xcolor} % Allow colors to be defined
\usepackage{enumerate} % Needed for markdown enumerations to work
\usepackage{geometry} % Used to adjust the document margins
\usepackage{amsmath} % Equations
\usepackage{amssymb} % Equations
\usepackage{textcomp} % defines textquotesingle
% Hack from http://tex.stackexchange.com/a/47451/13684:
\AtBeginDocument{%
    \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
}
\usepackage{upquote} % Upright quotes for verbatim code
\usepackage{eurosym} % defines \euro
\usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
\usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
\usepackage{fancyvrb} % verbatim replacement that allows latex
\usepackage{grffile} % extends the file name processing of package graphics
                     % to support a larger range
% The hyperref package gives us a pdf with properly built
% internal navigation ('pdf bookmarks' for the table of contents,
% internal cross-reference links, web links for URLs, etc.)
\usepackage{hyperref}
\usepackage{longtable} % longtable support required by pandoc >1.10
\usepackage{booktabs}  % table support for pandoc > 1.12.2
\usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
\usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                            % normalem makes italics be italics, not underlines




% Colors for the hyperref package
\definecolor{urlcolor}{rgb}{0,.145,.698}
\definecolor{linkcolor}{rgb}{.71,0.21,0.01}
\definecolor{citecolor}{rgb}{.12,.54,.11}

% ANSI colors
\definecolor{ansi-black}{HTML}{3E424D}
\definecolor{ansi-black-intense}{HTML}{282C36}
\definecolor{ansi-red}{HTML}{E75C58}
\definecolor{ansi-red-intense}{HTML}{B22B31}
\definecolor{ansi-green}{HTML}{00A250}
\definecolor{ansi-green-intense}{HTML}{007427}
\definecolor{ansi-yellow}{HTML}{DDB62B}
\definecolor{ansi-yellow-intense}{HTML}{B27D12}
\definecolor{ansi-blue}{HTML}{208FFB}
\definecolor{ansi-blue-intense}{HTML}{0065CA}
\definecolor{ansi-magenta}{HTML}{D160C4}
\definecolor{ansi-magenta-intense}{HTML}{A03196}
\definecolor{ansi-cyan}{HTML}{60C6C8}
\definecolor{ansi-cyan-intense}{HTML}{258F8F}
\definecolor{ansi-white}{HTML}{C5C1B4}
\definecolor{ansi-white-intense}{HTML}{A1A6B2}

% commands and environments needed by pandoc snippets
% extracted from the output of `pandoc -s`
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}

% Additional commands for more recent versions of Pandoc
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


% Define a nice break command that doesn't care if a line doesn't already
% exist.
\def\br{\hspace*{\fill} \\* }
% Math Jax compatability definitions
\def\gt{>}
\def\lt{<}
% Document parameters
\title{optimal\_price}




% Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
\let\PY@ul=\relax \let\PY@tc=\relax%
\let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
\PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
\PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


% Exact colors from NB
\definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
\definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




% Prevent overflowing lines due to hard-to-break entities
\sloppy
% Setup hyperref package
\hypersetup{
  breaklinks=true,  % so long urls are correctly broken across lines
  colorlinks=true,
  urlcolor=urlcolor,
  linkcolor=linkcolor,
  citecolor=citecolor,
  }
% Slightly bigger margins than the latex defaults

\geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}



\begin{document}


\maketitle




\section{Predict Price Change
Effects}\label{predict-price-change-effects}

Using the reshaped listing price data, the average daily revenue change
resulting from a price change is predicted using KNN, a random forest,
and a feed-forward neural network.

\subsection{Import packages and load in
data}\label{import-packages-and-load-in-data}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
     \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
     \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
     \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{SelectKBest}\PY{p}{,} \PY{n}{f\PYZus{}classif}
     \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{RandomForestClassifier}
     \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k}{import} \PY{n}{KNeighborsClassifier}
     \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{precision\PYZus{}score}\PY{p}{,} \PY{n}{recall\PYZus{}score}\PY{p}{,} \PY{n}{roc\PYZus{}auc\PYZus{}score}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{models} \PY{k}{import} \PY{n}{Sequential}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{layers}\PY{n+nn}{.}\PY{n+nn}{core} \PY{k}{import} \PY{n}{Dense}\PY{p}{,} \PY{n}{Dropout}\PY{p}{,} \PY{n}{Activation}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{layers} \PY{k}{import} \PY{n}{Conv2D}\PY{p}{,} \PY{n}{MaxPooling2D}\PY{p}{,} \PY{n}{Flatten}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{losses} \PY{k}{import} \PY{n}{categorical\PYZus{}crossentropy}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{optimizers} \PY{k}{import} \PY{n}{SGD}
     \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{utils} \PY{k}{import} \PY{n}{np\PYZus{}utils}
     \PY{k+kn}{import} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{callbacks} \PY{k}{as} \PY{n+nn}{cb}
     \PY{k+kn}{from} \PY{n+nn}{pathlib} \PY{k}{import} \PY{n}{Path}
     \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}columns} \PY{o}{=} \PY{l+m+mi}{100}
     \PY{n}{pd}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{display}\PY{o}{.}\PY{n}{max\PYZus{}rows} \PY{o}{=} \PY{l+m+mi}{1000}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} import data}
    \PY{n+nb}{dir} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{Path}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{resolve}\PY{p}{(}\PY{p}{)}\PY{p}{)}
    \PY{n}{pc\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/price\PYZus{}changes.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n+nb}{dir} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/../data/list\PYZus{}df.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\subsection{Prepare data}\label{prepare-data}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} rename listing id column}
    \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{n}{list\PYZus{}df} \PY{o}{=} \PY{n}{list\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{listing\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Merging dataframes...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} merge dataframes}
    \PY{n}{df} \PY{o}{=} \PY{n}{pc\PYZus{}df}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{list\PYZus{}df}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
Merging dataframes{\ldots}
Done

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} remove rows with missing values}
    \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}

    \PY{c+c1}{\PYZsh{} drop listing id}
    \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{df shape: }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{df}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
df shape:  (5230391, 43)

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k}{def} \PY{n+nf}{bin\PYZus{}adr}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{x} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.0}\PY{p}{:}
            \PY{k}{return} \PY{l+m+mi}{0}
        \PY{k}{elif} \PY{n}{x} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.0}\PY{p}{:}
            \PY{k}{return} \PY{l+m+mi}{1}
        \PY{k}{else}\PY{p}{:}
            \PY{k}{return} \PY{l+m+mi}{2}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} bin revenue}
    \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{revenue\PYZus{}change}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{revenue\PYZus{}change}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{bin\PYZus{}adr}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Splitting into X and y...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} split into X and y}
    \PY{n}{y} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{revenue\PYZus{}change}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{n}{X} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{revenue\PYZus{}change}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Getting dummy values...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} get dummy values}
    \PY{n}{X} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{X}\PY{p}{)}

    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Selecting features...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} select 20 best features}
    \PY{n}{X} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{SelectKBest}\PY{p}{(}\PY{n}{score\PYZus{}func}\PY{o}{=}\PY{n}{f\PYZus{}classif}\PY{p}{,} \PY{n}{k}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{o}{.}\PY{n}{values}\PY{p}{)}\PY{p}{)}

    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Splitting into train and test...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} split into training and testing data}
    \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{)}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Done}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
Splitting into X and y{\ldots}
Getting dummy values{\ldots}
Selecting features{\ldots}

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/feature\_selection/univariate\_selection.py:114: UserWarning: Features [42] are constant.
UserWarning)
/Users/cccdenhart/miniconda3/lib/python3.7/site-packages/sklearn/feature\_selection/univariate\_selection.py:115: RuntimeWarning: invalid value encountered in true\_divide
f = msb / msw

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
Splitting into train and test{\ldots}
Done

\end{Verbatim}

\subsection{Train models}\label{train-models}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training KNN...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{knn} \PY{o}{=} \PY{n}{KNeighborsClassifier}\PY{p}{(}\PY{n}{n\PYZus{}neighbors}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Predicting KNN...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{knn\PYZus{}pred} \PY{o}{=} \PY{n}{knn}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
Training KNN{\ldots}
Predicting KNN{\ldots}

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Training random forest...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{rf} \PY{o}{=} \PY{n}{RandomForestClassifier}\PY{p}{(}\PY{n}{n\PYZus{}estimators}\PY{o}{=}\PY{l+m+mi}{50}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Predicting random forest...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{rf\PYZus{}pred} \PY{o}{=} \PY{n}{rf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
Training random forest{\ldots}
Predicting random forest{\ldots}

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{} convert y values}
     \PY{n}{nn\PYZus{}train} \PY{o}{=} \PY{n}{np\PYZus{}utils}\PY{o}{.}\PY{n}{to\PYZus{}categorical}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{)}
     \PY{n}{nn\PYZus{}test} \PY{o}{=} \PY{n}{np\PYZus{}utils}\PY{o}{.}\PY{n}{to\PYZus{}categorical}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{)}

     \PY{c+c1}{\PYZsh{} initialize feed\PYZhy{}forward neural network}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Initializing network...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{ffnn} \PY{o}{=} \PY{n}{Sequential}\PY{p}{(}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{units}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{,} \PY{n}{activation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{input\PYZus{}dim}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dropout}\PY{p}{(}\PY{l+m+mf}{0.2}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{units}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} \PY{n}{activation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{exponential}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dropout}\PY{p}{(}\PY{l+m+mf}{0.2}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{units}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{activation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sigmoid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dropout}\PY{p}{(}\PY{l+m+mf}{0.2}\PY{p}{)}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{units}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{activation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

     \PY{c+c1}{\PYZsh{} compile model}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Compiling model...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{compile}\PY{p}{(}\PY{n}{loss}\PY{o}{=}\PY{n}{categorical\PYZus{}crossentropy}\PY{p}{,} \PY{n}{optimizer}\PY{o}{=}\PY{n}{SGD}\PY{p}{(}\PY{n}{lr}\PY{o}{=}\PY{l+m+mf}{0.01}\PY{p}{,} \PY{n}{momentum}\PY{o}{=}\PY{l+m+mf}{0.9}\PY{p}{,} \PY{n}{nesterov}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{p}{)}

     \PY{c+c1}{\PYZsh{} fit model}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Fitting model...}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n}{ffnn}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{nn\PYZus{}train}\PY{p}{,} \PY{n}{epochs}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} \PY{n}{batch\PYZus{}size}\PY{o}{=}\PY{l+m+mi}{128}\PY{p}{,} \PY{n}{verbose}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
Initializing network{\ldots}
Compiling model{\ldots}
Fitting model{\ldots}
Epoch 1/10
- 59s - loss: nan
Epoch 2/10
- 63s - loss: nan
Epoch 3/10
- 59s - loss: nan
Epoch 4/10
- 60s - loss: nan
Epoch 5/10
- 68s - loss: nan
Epoch 6/10
- 68s - loss: nan
Epoch 7/10
- 58s - loss: nan
Epoch 8/10
- 57s - loss: nan
Epoch 9/10
- 58s - loss: nan
Epoch 10/10
- 63s - loss: nan

\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} <keras.callbacks.History at 0x1a1d88ce10>
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} get ffnn predictions}
     \PY{n}{ffnn\PYZus{}preds} \PY{o}{=} \PY{n}{ffnn}\PY{o}{.}\PY{n}{predict\PYZus{}classes}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
\end{Verbatim}


\subsection{View results}\label{view-results}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{KNN Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{knn\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RF Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{rf\PYZus{}pred}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{FFNN Results:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ffnn\PYZus{}preds}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{precision: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ffnn\PYZus{}preds}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
     \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{recall: }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{ffnn\PYZus{}preds}\PY{p}{,} \PY{n}{average}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
KNN Results:
accuracy: 0.6353007575722814
precision: [0.50947136 0.50497735 0.70702975]
recall: [0.46252035 0.39264124 0.78957387]

RF Results:
accuracy: 0.6187023840660508
precision: [0.49549426 0.47101407 0.69487956]
recall: [0.43826491 0.38092479 0.77402013]

FFNN Results:
accuracy: 0.2137705931027732
precision: [0.21376999 1.         0.        ]
recall: [1.0000000e+00 3.5984167e-06 0.0000000e+00]

\end{Verbatim}

\subsection{Discussion}\label{discussion}

One contribution to the mediocre results could be the fact that there
are significantly more "no change" observations than the other two.

\begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{np}\PY{o}{.}\PY{n}{bincount}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{o}{.}\PY{n}{values}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} array([ 839331,  833825, 2249637])
\end{Verbatim}



% Add a bibliography block to the postdoc



    \end{document}
